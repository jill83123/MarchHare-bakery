import{_ as u}from"./tw-elements.es.min-5f64f089.js";import{_ as y,m as k,b as v,S as w,r as C,o as l,d,e as t,F as x,j as L,t as n,l as h,L as M,h as o,g as a,i as p,f as S,w as $,c as _,n as m,k as T,v as q}from"./index-fa6b6820.js";const N={data(){return{pickupMethod:""}},computed:{...k(_,["cartList","cartTotalPrice","status","currentStep","userInfo"])},methods:{...v(_,["delCartItem","updateCart","getCartList","updateCurrentStep","checkCartList"]),cancelOrder(){this.delCartItem("all"),this.$router.push("/shop")}},created(){this.getCartList(),this.updateCurrentStep(1)},mounted(){if(this.$nextTick(()=>{const s=this.$refs.pickupMethodSelect;u.getOrCreateInstance(s)}),this.pickupMethod===""){const s=this.cartList.findIndex(i=>i.id==="-Nfviy3OLgcT7GnSUqUV");s>-1&&this.cartList.splice(s,1)}},beforeUnmount(){this.$refs.pickupMethodSelect&&new u(this.$refs.pickupMethodSelect).dispose()},mixins:[w]},V={key:0,class:"container flex flex-col"},U={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},j={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},z={class:"overflow-hidden"},O={class:"min-w-full mb-6 text-sm text-left"},B=t("thead",{class:"font-medium text-black border-b border-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"w-[5%] px-1 py-4 md:px-4 lg:px-6"},"#"),t("th",{scope:"col",class:"md:w-[55%] px-1 py-4 md:px-4 lg:px-6"},"清單"),t("th",{scope:"col",class:"max-[480px]:w-[20%] md:w-[15%] px-1 py-4 md:px-4 lg:px-6"},"小計"),t("th",{scope:"col",class:"w-[15%] px-1 py-4 md:px-4 lg:px-6"},"編輯"),t("th",{scope:"col",class:"w-[10%] px-0 py-4 md:px-4 lg:px-6"},"刪除")])],-1),E={class:"text-black-light"},P={class:"px-2 py-4 font-medium md:px-4 lg:px-6"},A={class:"px-2 py-4 md:px-4 lg:px-6"},D={class:"flex flex-col gap-2 md:gap-8 min-[480px]:flex-row"},F=["src","alt"],H={class:"flex flex-col justify-center"},R={class:"mb-2"},G={class:"inline-block mb-1 mr-1 font-medium text-black lg:text-xl"},J={key:0,class:"px-2 ml-2 text-xs text-white rounded-full font-montserrat op bg-success"},K=t("br",null,null,-1),Q=["innerHTML"],W={class:"px-0 sm:px-2 py-4 text-xs tracking-wider max-[480px]:text-center sm:text-left sm:text-sm md:px-4 lg:px-6"},X=t("span",{class:"hidden sm:inline-block"},"NT",-1),Y={class:"px-2 py-4 md:px-4 lg:px-6"},Z={class:"flex items-center"},I=["onClick","disabled"],tt=["onUpdate:modelValue","onChange"],et={class:"hidden pl-2 text-sm text-gray-400 sm:inline-block"},st=["onClick","disabled"],ot=t("span",{class:"pl-1 text-xl align-bottom text-brown-300 material-symbols-outlined"},"add",-1),nt=[ot],it={class:"px-1 py-4 md:px-4 lg:px-6"},lt=["onClick"],dt=t("span",{class:"align-bottom material-symbols-outlined"}," delete ",-1),ct=[dt],rt={class:"text-base font-bold tracking-wider border-t border-gray-200 text-brown-500"},at={class:"px-1 py-4 md:px-4 lg:px-6",colspan:"2"},pt={class:"flex justify-between first-letter:items-start"},ut={class:"hidden sm:block"},xt={class:"w-[170px] text-gray-500"},ht=t("option",{disabled:"",selected:""},"請選擇取貨方式",-1),_t=t("option",{value:"delivery"},"宅配",-1),mt=t("option",{value:"self"},"到店自取",-1),bt=[ht,_t,mt],ft={class:"px-1 py-4 max-[480px]:text-center md:px-4 lg:px-6",colspan:"3"},gt={class:"-ml-2 text-sm"},yt=t("div",{class:"flex justify-center"},null,-1),kt=["disabled"],vt={key:1,class:"flex flex-col justify-center py-14"},wt={class:"text-center"},Ct=t("br",null,null,-1);function Lt(s,i,Mt,St,c,b){const f=C("RouterLink");return l(),d(x,null,[s.cartList.length>0?(l(),d("div",V,[t("div",U,[t("div",j,[t("div",z,[t("table",O,[B,t("tbody",E,[(l(!0),d(x,null,L(s.cartList,(e,g)=>(l(),d("tr",{class:"border-b border-gray-200 hover:bg-neutral-100",key:e.id},[t("td",P,n(g+1),1),t("td",A,[t("div",D,[t("img",{class:"w-full min-[480px]:w-[130px] object-cover",src:e.product.imageUrl,alt:e.product.title},null,8,F),t("div",H,[t("div",R,[t("h4",G,[o(n(e.product.title)+" ",1),e.product.price!==e.product.origin_price?(l(),d("span",J,"SALE")):p("",!0)]),K,t("span",{class:m(["text-xs tracking-wider text-gray-500",{"line-through":e.product.price!==e.product.origin_price}])},[o("NT "),t("span",null,n(s.$filters.currency(e.product.origin_price)),1),o(" 元")],2),e.product.price!==e.product.origin_price?(l(),d("span",{key:0,class:m(["text-xs tracking-wider text-gray-500",{" text-success font-bold ml-2":e.product.price!==e.product.origin_price}])},[o("NT "),t("span",null,n(s.$filters.currency(e.product.price)),1),o(" 元")],2)):p("",!0)]),t("div",{innerHTML:e.product.description,class:"hidden lg:block"},null,8,Q)])])]),t("td",W,[t("span",null,[X,o(" "+n(s.$filters.currency(e.final_total))+" 元",1)])]),t("td",Y,[t("div",Z,[t("button",{class:"pr-1",onClick:a(r=>s.updateCart(e.id,e.qty>1?e.qty-1:1),["prevent"]),disabled:s.status.updateIcon===e.id||e.qty===1},[t("span",{class:"text-xl align-bottom text-brown-300 material-symbols-outlined",style:T({color:e.qty===1?"#d1d5db":""})},"remove",4)],8,I),h(t("input",{type:"text",class:"outline-none focus:outline-none max-w-[40px] bg-transparent border text-center","onUpdate:modelValue":r=>e.qty=r,onChange:r=>s.updateCart(e.id,e.qty===0||e.qty===""?1:e.qty)},null,40,tt),[[q,e.qty]]),t("span",et,n(e.product.unit),1),t("button",{onClick:a(r=>s.updateCart(e.id,e.qty+1),["prevent"]),disabled:s.status.updateIcon===e.id},nt,8,st)])]),t("td",it,[t("button",{class:"self-end hover:text-danger",onClick:a(r=>s.showSwalCheck("warning","真的要刪除嗎",()=>s.delCartItem("one",e.id)),["prevent","stop"])},ct,8,lt)])]))),128))]),t("tfoot",rt,[t("td",at,[t("div",pt,[t("span",ut,n(s.cartList.length)+" 個商品 ",1),t("div",xt,[h(t("select",{"data-te-select-init":"","data-te-class-select-Label":"data-[te-input-state-active]:scale-1 absolute top-[18%] left-[5%] pointer-events-none","onUpdate:modelValue":i[0]||(i[0]=e=>c.pickupMethod=e),ref:"pickupMethodSelect"},bt,512),[[M,c.pickupMethod]])])])]),t("td",ft,[o(" 共 NT "+n(c.pickupMethod==="delivery"?`${s.$filters.currency(s.cartTotalPrice+80)}`:s.$filters.currency(s.cartTotalPrice))+" 元 ",1),t("p",gt,n(c.pickupMethod==="delivery"?"（含運費 80 元）":""),1)])])]),yt,t("button",{type:"button",class:"z-10 flex items-center px-8 py-2 mx-auto mb-2 font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full text to-check bg-brown-300 focus:outline-none focus:ring-0 hover:opacity-80 disabled:bg-gray-300",onClick:i[1]||(i[1]=a(e=>s.checkCartList(this.pickupMethod),["prevent"])),disabled:!c.pickupMethod},"確認商品 ",8,kt),t("button",{type:"button",class:"z-10 flex items-center px-8 py-2 mx-auto mb-10 text-sm font-medium leading-normal tracking-wider text-gray-500 uppercase transition duration-150 ease-in-out rounded-full focus:outline-none focus:ring-1 hover:opacity-80",onClick:i[2]||(i[2]=a(e=>b.cancelOrder(),["prevent"]))},"取消購買")])])])])):p("",!0),s.cartList.length===0?(l(),d("div",vt,[t("p",wt,[o("目前購物車是空的"),Ct,o("快來 "),S(f,{to:"/shop",type:"button",class:"z-10 items-center inline-block mx-1 font-medium leading-normal tracking-wider uppercase transition duration-150 ease-in-out border-b text-brown-300 border-brown-300 hover:opacity-80"},{default:$(()=>[o("點我")]),_:1}),o(" 進行選購吧！")])])):p("",!0)],64)}const qt=y(N,[["render",Lt]]);export{qt as default};
