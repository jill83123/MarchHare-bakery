import{z as g,L as h}from"./index-7d8cc5ea.js";import{a as e}from"./base-ae4ba7b0.js";import{S as i}from"./swalMixin-1ac3556f.js";const l=async()=>(await e.get("/products/all")).data,n=async({page:t=1,category:s=""}={})=>(await e.get(`/products?page=${t}&category=${s}`)).data,L=async t=>(await e.get(`/product/${t}`)).data.product,{addLoadingItem:d,removeLoadingItem:p}=g(),f=h("product",{state:()=>({productList:[],pagination:[]}),actions:{async getProducts(t=1){var s,a,c;d("getProducts");try{this.productList=[];const o=await n({page:t});let r={};if(this.pagination=o.pagination,this.productList.push(...o.products),this.pagination.has_pre&&this.productList.splice(0,2),this.pagination.has_next){r=await n({page:t+1});const u=r.products.slice(0,2);this.productList.push(...u)}!((s=r.products)!=null&&s.length)===2&&(this.pagination.has_next=!1)}catch(o){i.methods.showSwalToast("error",(c=(a=o.response)==null?void 0:a.data)==null?void 0:c.message)}p("getProducts")},async getAllProducts(){var t,s;d("getAllProducts");try{const a=await l();this.productList.push(...a.products)}catch(a){i.methods.showSwalToast("error",(s=(t=a.response)==null?void 0:t.data)==null?void 0:s.message)}p("getAllProducts")}}});export{L as a,f as p};
