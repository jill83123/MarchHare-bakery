import{_,m as x,b as g,r as u,o as n,c as l,e as f,w,d as e,k as r,v as d,L as b,f as k,F as y,i as v,h as c,g as i,n as C,t as a}from"./index-200782e0.js";import{c as p}from"./cartStore-97a94179.js";import{O as T,_ as I}from"./double-tail-clip-6822fc74.js";import{S as z}from"./swalMixin-3d9d71cc.js";import"./tw-elements.es.min-5f64f089.js";const L="/MarchHare-bakery/assets/linepay-73450baf.svg",V="/MarchHare-bakery/assets/pay-2ee063f0.svg",$="/MarchHare-bakery/assets/visa-f5642dc9.svg",P={data(){return{}},computed:{...x(p,["cartList","cartTotalPrice","status","finalTotalPrice","userInfo"])},methods:{...g(p,["getCartList","updateCurrentStep","pushUserInfo","useCoupon","finishOrder"])},mounted(){this.userInfo.user.name===""?this.$router.replace("/checkout/information"):this.cartList.length<=0&&this.$router.replace("/checkout/cart"),this.updateCurrentStep(3),this.getCartList()},components:{OrderRules:T},mixins:[z]},j={"data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true",class:"container w-full mb-12 xl:10/12 2xl:w-7/12"},U=e("div",{class:"flex items-center"},[e("span",{class:"mr-1 material-symbols-outlined"}," keyboard_double_arrow_left "),i("返回修改 ")],-1),S={class:"flex flex-col-reverse gap-8 lg:flex-row lg:gap-0"},M={class:"relative w-full lg:pr-2 lg:w-1/2"},N=e("img",{class:"absolute -top-3 right-10",src:I,alt:"tail-clip"},null,-1),O={class:"h-full px-5 border rounded-md py-7 bg-neutral-100"},R=e("div",{class:"mb-4"},[e("h2",{class:"text-lg"},"以下為您所填寫的資料："),e("p",{class:"text-sm text-danger"},"※ 確認付款後將無法修改，如需修改請返回上一步")],-1),B={class:"flex gap-2 mb-4"},H={class:"w-1/2"},q=e("label",{for:"name",class:"block mb-1"},"收件人姓名",-1),D={class:"w-1/2"},E=e("label",{for:"tel",class:"block mb-1"},"收件人電話",-1),F={class:"mb-4"},W=e("label",{for:"mail",class:"block mb-1"},"E-mail",-1),A={class:"mb-4"},G=e("label",{for:"address",class:"block mb-1"},"地址",-1),J={class:"pb-4 mb-4 border-b-2 border-gray-300 border-dashed"},K=e("label",{for:"message",class:"block mb-1"},"留言",-1),Q={class:"flex flex-col justify-between sm:flex-row"},X={class:"mb-3 sm:mb-0"},Y=e("p",{class:"block mb-2"},[i("請選擇付款方式"),e("span",{class:"text-danger"}," *")],-1),Z={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},ee=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"self"}," 貨到付款 / 到店付款 ",-1),oe={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},se=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"other"},[i(" 其他方式 "),e("img",{class:"inline h-[20px] ml-1 object-cover",src:L,alt:"linePay"}),e("img",{class:"inline h-[20px] ml-1 object-cover",src:V,alt:"pay"}),e("img",{class:"inline h-[20px] ml-1 object-cover",src:$,alt:"visa"})],-1),te=["disabled"],re={class:"w-full lg:pl-2 lg:w-1/2"},ae={class:"bg-[rgb(255,255,255,0.95)] rounded-md border"},ne={class:"px-2 py-4 text-black-light"},le=e("div",{class:"flex pb-3 pl-2 mb-2 border-b-2 border-gray-300 border-dotted"},[e("h4",{class:"mr-1"},"購物車列表")],-1),ie={key:0,class:"flex flex-col pb-3 mb-2 cart-list h-[484px] overflow-y-auto"},de={class:"flex items-center w-1/4 aspect-square grow"},ce=["src","alt"],ue={class:"flex flex-col justify-between w-3/4 px-2 grow"},fe={class:"flex items-center justify-between"},be={class:"inline-block font-medium text-base sm:text-lg truncate max-w-[90%]"},pe={class:"inline-block text-sm"},me={class:"flex items-center justify-between"},he={class:"text-xs text-gray-400"},_e={class:"text-sm sm:text-base"},xe={class:"flex justify-between px-2 pt-4 mt-3 border-t-2 border-gray-300 border-dotted"},ge={key:0,class:"z-10 flex items-center text-sm text-success"},we=e("span",{class:"mr-1 material-symbols-outlined"}," check_circle ",-1),ke={class:"ml-auto font-bold tracking-wider text-end"},ye={key:0,class:"text-success"};function ve(o,t,Ce,Te,Ie,ze){const m=u("RouterLink"),h=u("OrderRules");return n(),l("div",j,[f(m,{to:"/checkout/information",class:"inline-block mb-4"},{default:w(()=>[U]),_:1}),e("div",S,[e("div",M,[N,e("div",O,[R,e("div",B,[e("div",H,[q,r(e("input",{disabled:"",type:"text",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o.userInfo.user.name=s)},null,512),[[d,o.userInfo.user.name]])]),e("div",D,[E,r(e("input",{disabled:"",type:"tel",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"tel","onUpdate:modelValue":t[1]||(t[1]=s=>o.userInfo.user.tel=s)},null,512),[[d,o.userInfo.user.tel]])])]),e("div",F,[W,r(e("input",{disabled:"",type:"email",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"mail","onUpdate:modelValue":t[2]||(t[2]=s=>o.userInfo.user.email=s)},null,512),[[d,o.userInfo.user.email]])]),e("div",A,[G,r(e("input",{disabled:"",type:"text",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"address","onUpdate:modelValue":t[3]||(t[3]=s=>o.userInfo.user.address=s)},null,512),[[d,o.userInfo.user.address]])]),e("div",J,[K,r(e("textarea",{disabled:"",type:"text",class:"min-h-[100px] resize-none m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"message","onUpdate:modelValue":t[4]||(t[4]=s=>o.userInfo.message=s)},null,512),[[d,o.userInfo.message]])]),e("div",Q,[e("div",X,[Y,e("div",Z,[r(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"radio",name:"payWay",id:"self",value:!1,"onUpdate:modelValue":t[5]||(t[5]=s=>o.userInfo.user.order.is_paid=s)},null,512),[[b,o.userInfo.user.order.is_paid]]),ee]),e("div",oe,[r(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"radio",name:"payWay",id:"other",value:!0,"onUpdate:modelValue":t[6]||(t[6]=s=>o.userInfo.user.order.is_paid=s)},null,512),[[b,o.userInfo.user.order.is_paid]]),se])]),e("button",{type:"button",class:"z-10 flex items-center self-end px-8 py-2 ml-auto text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full to-check bg-brown-300 focus:outline-none focus:ring-0 hover:opacity-80 disabled:bg-gray-300",disabled:o.userInfo.user.order.is_paid===void 0,onClick:t[7]||(t[7]=k(s=>o.showSwalCheck("warning","確認資料並送出",()=>o.finishOrder()),["prevent","stop"]))},"確認購買 ",8,te)])])]),e("div",re,[e("div",ae,[e("div",ne,[le,o.cartList&&o.cartList.length>=1?(n(),l("ul",ie,[(n(!0),l(y,null,v(o.cartList,s=>(n(),l("li",{class:"flex gap-2 py-3 pl-4",key:s.id},[e("a",de,[e("img",{class:"object-cover",src:s.product.imageUrl,alt:s.product.title},null,8,ce)]),e("div",ue,[e("div",fe,[e("h4",be,a(s.product.title),1),e("p",pe,a(s.qty)+" "+a(s.product.unit),1)]),e("div",me,[e("span",he,"單價 NT "+a(o.$filters.currency(s.product.price))+" 元",1),e("span",_e,"NT "+a(o.$filters.currency(s.final_total))+" 元",1)])])]))),128))])):c("",!0),e("div",xe,[o.status.coupon&&o.userInfo.couponCode?(n(),l("p",ge,[we,i("已套用優惠券")])):c("",!0),e("p",ke,[i("共 NT "),e("span",{class:C({"line-through text-sm text-gray-400 mr-2":o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon})},a(o.$filters.currency(o.cartTotalPrice)),3),o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon?(n(),l("span",ye,a(o.$filters.currency(o.finalTotalPrice)),1)):c("",!0),i(" 元")])])])])])]),f(h)])}const Ue=_(P,[["render",ve]]);export{Ue as default};
