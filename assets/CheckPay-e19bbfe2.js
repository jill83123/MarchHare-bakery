import{_ as m,m as x,b as k,S as g,r as u,o as n,d as l,f,w,e,l as t,v as c,M as b,g as y,F as v,j as C,i,h as d,n as T,t as a,c as p}from"./index-fa6b6820.js";import{O as I,_ as z}from"./double-tail-clip-21819e73.js";import"./tw-elements.es.min-5f64f089.js";const V="/MarchHare-bakery/assets/linepay-73450baf.svg",$="/MarchHare-bakery/assets/pay-2ee063f0.svg",j="/MarchHare-bakery/assets/visa-f5642dc9.svg",L={data(){return{}},computed:{...x(p,["cartList","cartTotalPrice","status","finalTotalPrice","userInfo"])},methods:{...k(p,["getCartList","updateCurrentStep","pushUserInfo","useCoupon","finishOrder"])},mounted(){this.userInfo.user.name===""?this.$router.replace("/checkout/information"):this.cartList.length<=0&&this.$router.replace("/checkout/cart"),this.updateCurrentStep(3),this.getCartList()},components:{OrderRules:I},mixins:[g]},P={class:"container w-full mb-12 xl:10/12 2xl:w-7/12"},U=e("div",{class:"flex items-center"},[e("span",{class:"mr-1 material-symbols-outlined"}," keyboard_double_arrow_left "),d("返回修改 ")],-1),M={class:"flex flex-col-reverse gap-8 lg:flex-row lg:gap-0"},S={class:"relative w-full lg:pr-2 lg:w-1/2"},N=e("img",{class:"absolute -top-3 right-10",src:z,alt:"tail-clip"},null,-1),O={class:"h-full px-5 border rounded-md py-7 bg-neutral-100"},R=e("div",{class:"mb-4"},[e("h2",{class:"text-lg"},"以下為您所填寫的資料："),e("p",{class:"text-sm text-danger"},"※ 確認付款後將無法修改，如需修改請返回上一步")],-1),B={class:"flex gap-2 mb-4"},H={class:"w-1/2"},q=e("label",{for:"name",class:"block mb-1"},"收件人姓名",-1),D={class:"w-1/2"},E=e("label",{for:"tel",class:"block mb-1"},"收件人電話",-1),F={class:"mb-4"},W=e("label",{for:"mail",class:"block mb-1"},"E-mail",-1),A={class:"mb-4"},G=e("label",{for:"address",class:"block mb-1"},"地址",-1),J={class:"pb-4 mb-4 border-b-2 border-gray-300 border-dashed"},K=e("label",{for:"message",class:"block mb-1"},"留言",-1),Q={class:"flex justify-between"},X=e("p",{class:"block mb-2"},[d("請選擇付款方式"),e("span",{class:"text-danger"}," *")],-1),Y={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},Z=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"self"}," 貨到付款 / 到店付款 ",-1),ee={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},oe=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"other"},[d(" 其他方式 "),e("img",{class:"inline h-[20px] ml-1 object-cover",src:V,alt:"linePay"}),e("img",{class:"inline h-[20px] ml-1 object-cover",src:$,alt:"pay"}),e("img",{class:"inline h-[20px] ml-1 object-cover",src:j,alt:"visa"})],-1),re=["disabled"],se={class:"w-full lg:pl-2 lg:w-1/2"},te={class:"bg-[rgb(255,255,255,0.95)] rounded-md border"},ae={class:"px-2 py-4 text-black-light"},ne=e("div",{class:"flex pb-3 pl-2 mb-2 border-b-2 border-gray-300 border-dotted"},[e("h4",{class:"mr-1"},"購物車列表")],-1),le={key:0,class:"flex flex-col pb-3 mb-2 cart-list h-[484px] overflow-y-auto"},de={class:"flex items-center w-1/4 aspect-square grow"},ce=["src","alt"],ie={class:"flex flex-col justify-between w-3/4 px-2 grow"},ue={class:"flex items-center justify-between"},fe={class:"inline-block font-medium text-lg truncate max-w-[90%]"},be={class:"inline-block text-sm"},pe={class:"flex items-center justify-between"},he={class:"text-xs text-gray-400"},_e={class:"flex justify-between px-2 pt-4 mt-3 border-t-2 border-gray-300 border-dotted"},me={key:0,class:"z-10 flex items-center text-sm text-success"},xe=e("span",{class:"mr-1 material-symbols-outlined"}," check_circle ",-1),ke={class:"ml-auto font-bold tracking-wider text-end"},ge={key:0,class:"text-success"};function we(o,s,ye,ve,Ce,Te){const h=u("RouterLink"),_=u("OrderRules");return n(),l("div",P,[f(h,{to:"/checkout/information",class:"inline-block mb-4"},{default:w(()=>[U]),_:1}),e("div",M,[e("div",S,[N,e("div",O,[R,e("div",B,[e("div",H,[q,t(e("input",{disabled:"",type:"text",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"name","onUpdate:modelValue":s[0]||(s[0]=r=>o.userInfo.user.name=r)},null,512),[[c,o.userInfo.user.name]])]),e("div",D,[E,t(e("input",{disabled:"",type:"tel",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"tel","onUpdate:modelValue":s[1]||(s[1]=r=>o.userInfo.user.tel=r)},null,512),[[c,o.userInfo.user.tel]])])]),e("div",F,[W,t(e("input",{disabled:"",type:"email",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"mail","onUpdate:modelValue":s[2]||(s[2]=r=>o.userInfo.user.email=r)},null,512),[[c,o.userInfo.user.email]])]),e("div",A,[G,t(e("input",{disabled:"",type:"text",class:"m-0 block w-full border-b border-solid rounded border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"address","onUpdate:modelValue":s[3]||(s[3]=r=>o.userInfo.user.address=r)},null,512),[[c,o.userInfo.user.address]])]),e("div",J,[K,t(e("textarea",{disabled:"",type:"text",class:"min-h-[100px] resize-none m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"message","onUpdate:modelValue":s[4]||(s[4]=r=>o.userInfo.message=r)},null,512),[[c,o.userInfo.message]])]),e("div",Q,[e("div",null,[X,e("div",Y,[t(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:border-neutral-600 dark:checked:border-brown-300 dark:checked:after:border-brown-300 dark:checked:after:bg-brown-300 dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:border-brown-300 dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]",type:"radio",name:"payWay",id:"self",value:!1,"onUpdate:modelValue":s[5]||(s[5]=r=>o.userInfo.user.order.is_paid=r)},null,512),[[b,o.userInfo.user.order.is_paid]]),Z]),e("div",ee,[t(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:border-neutral-600 dark:checked:border-brown-300 dark:checked:after:border-brown-300 dark:checked:after:bg-brown-300 dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:border-brown-300 dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]",type:"radio",name:"payWay",id:"other",value:!0,"onUpdate:modelValue":s[6]||(s[6]=r=>o.userInfo.user.order.is_paid=r)},null,512),[[b,o.userInfo.user.order.is_paid]]),oe])]),e("button",{type:"button",class:"z-10 flex items-center self-end px-8 py-2 ml-auto text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full to-check bg-brown-300 focus:outline-none focus:ring-0 hover:opacity-80 disabled:bg-gray-300",disabled:o.userInfo.user.order.is_paid===void 0,onClick:s[7]||(s[7]=y(r=>o.showSwalCheck("warning","確認資料並送出",()=>o.finishOrder()),["prevent","stop"]))},"確認購買 ",8,re)])])]),e("div",se,[e("div",te,[e("div",ae,[ne,o.cartList&&o.cartList.length>=1?(n(),l("ul",le,[(n(!0),l(v,null,C(o.cartList,r=>(n(),l("li",{class:"flex gap-2 py-3 pl-4",key:r.id},[e("a",de,[e("img",{class:"object-cover",src:r.product.imageUrl,alt:r.product.title},null,8,ce)]),e("div",ie,[e("div",ue,[e("h4",fe,a(r.product.title),1),e("p",be,a(r.qty)+" "+a(r.product.unit),1)]),e("div",pe,[e("span",he,"單價 NT "+a(o.$filters.currency(r.product.price))+" 元",1),e("span",null,"NT "+a(o.$filters.currency(r.final_total))+" 元",1)])])]))),128))])):i("",!0),e("div",_e,[o.status.coupon&&o.userInfo.couponCode?(n(),l("p",me,[xe,d("已套用優惠券")])):i("",!0),e("p",ke,[d("共 NT "),e("span",{class:T({"line-through text-sm text-gray-400 mr-2":o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon})},a(o.$filters.currency(o.cartTotalPrice)),3),o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon?(n(),l("span",ge,a(o.$filters.currency(o.finalTotalPrice)),1)):i("",!0),d(" 元")])])])])])]),f(_)])}const $e=m(L,[["render",we]]);export{$e as default};
