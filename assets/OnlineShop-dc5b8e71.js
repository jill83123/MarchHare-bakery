import{_ as z,m as f,b as x,r as p,o as i,d as n,f as m,e as t,n as d,g as a,l as P,v as K,x as M,h,t as u,i as g,F as b,j as _,c as w,p as j}from"./index-fa6b6820.js";import{P as A}from"./PaginationFrontend-e429b9dd.js";import{f as v}from"./favoriteStore-ca0e4e33.js";import{p as y}from"./productStore-1b4e4701.js";import{C as N}from"./CurrentCouponModal-ba1edaa6.js";import"./tw-elements.es.min-5f64f089.js";import"./modalMixin-e43cb9db.js";const B="/MarchHare-bakery/assets/shop-banner-9db32710.mp4",T={data(){return{sortStatus:"all",cacheSearch:"",searchKeyword:""}},computed:{...f(v,["favorite"]),...f(w,["status"]),...f(y,["productList","pagination","isLoading"]),filteredProducts(){return{all:this.productList,toast:this.productList.filter(s=>s.category==="麵包"),cake:this.productList.filter(s=>s.category==="蛋糕"),cookie:this.productList.filter(s=>s.category==="餅乾"),search:this.productList.filter(s=>s.title.match(this.searchKeyword)||Array.isArray(s.tag)&&s.tag.includes(this.searchKeyword))}}},methods:{...x(v,["toggleFavorite"]),...x(w,["getCartList","addToCart"]),...x(y,["getProducts"]),changeSort(s){s==="餅乾"?this.sortStatus="cookie":s==="蛋糕"?this.sortStatus="cake":s==="麵包"?this.sortStatus="toast":this.sortStatus=s},searchProducts(){this.sortStatus="search",this.searchKeyword=this.cacheSearch},tagSearch(s){this.searchKeyword=s,this.sortStatus="search"}},mounted(){this.getCartList()},created(){this.getProducts()},components:{Pagination:A,CurrentCouponModal:N}},V=j('<div class="relative"><video class="h-[468px] w-full object-cover object-bottom" src="'+B+'" autoplay muted loop></video><div class="absolute top-0 bottom-0 left-0 right-0 h-full bg-[#ffffff60] backdrop-blur-md z-1"><div class="absolute left-0 right-0 flex flex-col justify-center h-full mx-auto text-center"><span class="text-2xl tracking-[0.2rem] text-neutral-100 opacity-70 font-montserrat mb-2 font-bold">Online Shop</span><h2 class="sm:text-[64px] font-maru text-neutral-50 font-medium tracking-widest text-5xl">線上商店</h2></div></div></div>',1),F={class:"container"},I={class:"flex flex-col items-center mt-10 mb-6 md:mt-16 md:mb-12 sm:flex-row"},D=t("div",{class:"hidden xl:block xl:w-1/3"},null,-1),E={class:"flex flex-row justify-center w-full gap-2 pl-0 list-none sm:justify-start xl:justify-center md:gap-5 xl:w-2/3"},O={role:"presentation",class:"w-full sm:w-auto"},R=t("span",{class:"mb-1 material-symbols-outlined"}," package_2 ",-1),U=t("p",null,"全部",-1),q=[R,U],H={role:"presentation",class:"w-full sm:w-auto"},G=t("span",{class:"mb-1 material-symbols-outlined"}," breakfast_dining ",-1),J=t("p",null,"麵包",-1),Q=[G,J],W={role:"presentation",class:"w-full sm:w-auto"},X=t("span",{class:"mb-1 material-symbols-outlined"}," cake ",-1),Y=t("p",null,"蛋糕",-1),Z=[X,Y],$={role:"presentation",class:"w-full sm:w-auto"},tt=t("span",{class:"material-symbols-outlined"}," cookie ",-1),et=t("p",null,"餅乾",-1),st=[tt,et],ot={class:"w-full md:block sm:w-7/12 md:w-1/2 xl:w-1/3"},rt={class:"relative flex flex-wrap items-stretch w-full ml-auto card-img xl:w-4/5"},lt=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),it=[lt],nt={key:0,class:"text-center"},at=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"inline-block w-5 h-5 mr-2"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),ct=t("br",null,null,-1),dt={key:1,class:"mb-7"},ut={class:"flex items-center justify-center"},ht=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"inline-block w-5 h-5 mr-2"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),pt={class:"mb-6"},mt={class:"transition-opacity duration-150 ease-linear opacity-100"},ft={class:"flex flex-wrap -mx-3 gap-y-5"},xt={class:"relative flex flex-col h-full overflow-hidden border rounded-xl"},gt={class:"relative overflow-hidden card-img aspect-square"},bt=["src","alt"],_t=["onClick"],wt={key:0,class:"text-3xl text-red-400 material-symbols-outlined",style:{"font-variation-settings":`'FILL' 1,\r
                        'opsz' 24`}},vt={key:1,class:"text-3xl text-red-400 material-symbols-outlined"},yt=t("div",{class:"absolute -translate-y-1/4 -translate-x-1/2 z-[5] left-1/2 top-1/2 view-detail hidden"},[t("p",{href:"#",class:"flex items-center py-2 pl-8 pr-6 text-sm font-medium leading-normal tracking-wider text-white uppercase whitespace-nowrap z-5"},[h("查看商品資訊"),t("span",{class:"ml-1 material-symbols-outlined"}," keyboard_double_arrow_right ")])],-1),kt={class:"p-5 min-h-[150px] flex flex-col justify-between grow"},St={class:"mb-1 text-lg font-medium text-black lg:text-2xl"},Ct={class:"flex gap-1 -ml-1 text-sm text-gray-400"},Lt=["onClick"],zt=["onClick"],Pt={class:"flex items-center justify-between"},Kt={class:"flex flex-col"},Mt={key:0,class:"px-2 ml-2 text-xs text-white rounded-full font-montserrat op bg-success"},jt=["disabled","onClick"],At={key:0,class:"inline-block h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite] mr-2",role:"status"},Nt=t("span",{class:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"},"Loading... ",-1),Bt=[Nt];function Tt(s,r,Vt,Ft,o,l){const k=p("LoadingAnimation"),S=p("RouterLink"),C=p("Pagination"),L=p("CurrentCouponModal");return i(),n(b,null,[m(k,{active:s.isLoading},null,8,["active"]),V,t("main",F,[t("div",I,[D,t("ul",E,[t("li",O,[t("a",{href:"#pills-all",class:d(["my-2 block text-center rounded px-1 sm:px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500",{"bg-brown-100 text-white":o.sortStatus==="all"||o.searchKeyword===""&&o.sortStatus==="search","bg-neutral-100":o.sortStatus!=="all"&&!(o.searchKeyword===""&&o.sortStatus==="search")}]),onClick:r[0]||(r[0]=a(e=>l.changeSort("all"),["prevent"]))},q,2)]),t("li",H,[t("a",{href:"#pills-toast",class:d(["my-2 block text-center rounded px-1 sm:px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500",{"bg-brown-100 text-white":o.sortStatus==="toast","bg-neutral-100":o.sortStatus!=="toast"}]),id:"pills-toast-tab",onClick:r[1]||(r[1]=a(e=>l.changeSort("toast"),["prevent"]))},Q,2)]),t("li",W,[t("a",{href:"#pills-cake",class:d(["my-2 block text-center rounded px-1 sm:px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500",{"bg-brown-100 text-white":o.sortStatus==="cake","bg-neutral-100":o.sortStatus!=="cake"}]),onClick:r[2]||(r[2]=a(e=>l.changeSort("cake"),["prevent"]))},Z,2)]),t("li",$,[t("a",{href:"#pills-cookie",class:d(["my-2 block rounded text-center px-1 sm:px-7 pb-3.5 pt-4 text-xs font-medium uppercase leading-tight text-neutral-500",{"bg-brown-100 text-white":o.sortStatus==="cookie","bg-neutral-100":o.sortStatus!=="cookie"}]),role:"tab",onClick:r[3]||(r[3]=a(e=>l.changeSort("cookie"),["prevent"]))},st,2)])]),t("div",ot,[t("div",rt,[P(t("input",{type:"search",class:"relative m-0 -mr-0.5 block w-[1px] min-w-0 flex-auto rounded-l border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-3 text-base font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:border focus:border-r-0 focus:border-brown-100 focus:outline-none",placeholder:"搜尋商品","aria-label":"Search","aria-describedby":"button-addon1",onKeyup:r[4]||(r[4]=M(e=>l.searchProducts(),["enter"])),"onUpdate:modelValue":r[5]||(r[5]=e=>o.cacheSearch=e)},null,544),[[K,o.cacheSearch]]),t("button",{class:"relative z-[2] flex items-center rounded-r bg-brown-300 px-4 py-2.5 text-xs font-medium uppercase leading-tight text-white transition duration-150 ease-in-out hover:bg-brown-100 focus:bg-primary-700 focus:outline-none focus:ring-0 active:bg-primary-800",type:"button",onClick:r[6]||(r[6]=a(e=>l.searchProducts(),["prevent"]))},it)])])]),l.filteredProducts.search.length===0&&o.sortStatus==="search"?(i(),n("div",nt,[t("p",null,[at,h(u(o.searchKeyword),1),ct,h(" 查無資料")])])):l.filteredProducts.search.length>=0&&o.sortStatus==="search"&&o.searchKeyword!==""?(i(),n("div",dt,[t("p",ut,[ht,h("「 "+u(o.searchKeyword)+" 」的搜尋結果",1)])])):g("",!0),t("div",pt,[t("div",mt,[t("ul",ft,[(i(!0),n(b,null,_(l.filteredProducts[o.sortStatus],e=>(i(),n("li",{class:"w-full px-3 productCard sm:w-1/2 lg:w-1/3 xl:w-1/4",key:e.id},[t("div",xt,[t("div",gt,[t("img",{class:"relative w-full h-full",src:e.imageUrl,alt:e.title},null,8,bt),t("button",{class:"absolute top-0 right-0 z-10 p-4",onClick:a(c=>s.toggleFavorite(e),["prevent"])},[s.favorite.some(c=>c.id===e.id)?(i(),n("span",wt," favorite ")):(i(),n("span",vt," favorite "))],8,_t),yt]),t("div",kt,[t("div",null,[t("h3",St,u(e.title),1),t("div",Ct,[t("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:a(c=>l.changeSort(e.category),["prevent"])},"# "+u(e.category),9,Lt),(i(!0),n(b,null,_(e.tag,c=>(i(),n("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:a(It=>l.tagSearch(c),["prevent"]),key:c},"# "+u(c),9,zt))),128))])]),t("div",Pt,[t("div",Kt,[t("div",null,[t("span",{class:d(["text-xl font-medium text-black-light",{"text-success":e.price!==e.origin_price}])},"NT "+u(s.$filters.currency(e.price)),3),e.price!==e.origin_price?(i(),n("span",Mt,"SALE")):g("",!0)]),t("span",{class:d(["text-xs text-gray-500 line-through",{hidden:e.price===e.origin_price}])}," NT "+u(s.$filters.currency(e.origin_price)),3)]),t("button",{type:"button",class:d(["z-10 flex items-center px-6 py-2 text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full btn-add-cart bg-brown-300 focus:outline-none focus:ring-0 active:bg-cerulean-700 hover:opacity-80",{"bg-gray-300":s.status.loadingIcon===e.id}]),disabled:s.status.loadingIcon===e.id,onClick:a(c=>s.addToCart(e,1),["prevent"])},[s.status.loadingIcon===e.id?(i(),n("div",At,Bt)):g("",!0),h(" 加入購物車 ")],10,jt)])]),m(S,{to:"product/"+e.id,class:"after:z-[9] after:top-0 after:left-0 after:right-0 after:absolute after:inset-0"},null,8,["to"])])]))),128))])])])]),m(C,{pages:s.pagination},null,8,["pages"]),m(L)],64)}const Gt=z(T,[["render",Tt]]);export{Gt as default};
