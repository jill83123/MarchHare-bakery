import{c as z,m,b as f,r as g,o as l,d as a,e as t,n as c,j as p,l as P,v as L,y as K,g as h,t as d,h as u,F as x,i as b,u as j,f as _,s as M}from"./index-bf4ebe37.js";import{c as w}from"./cartStore-b351ca37.js";import{f as v}from"./favoriteStore-c113458f.js";import{p as y}from"./productStore-cdad3af2.js";import{P as A}from"./PaginationFrontend-23e5dc59.js";import{C as B}from"./CurrentCouponModal-31785074.js";import"./base-593d189d.js";import"./swalMixin-1ccae8ce.js";import"./tw-elements.es.min-69e8dc80.js";import"./modalMixin-a9be93c2.js";const N="/MarchHare-bakery/assets/shop-banner-9db32710.mp4",T={data(){return{sortStatus:"all",cacheSearch:"",searchKeyword:"",firstLoad:!1}},computed:{...m(v,["favorite"]),...m(w,["status"]),...m(y,["productList","pagination"]),filteredProducts(){return{all:this.productList,toast:this.productList.filter(s=>s.category==="麵包"),cake:this.productList.filter(s=>s.category==="蛋糕"),cookie:this.productList.filter(s=>s.category==="餅乾"),search:this.productList.filter(s=>s.title.match(this.searchKeyword)||Array.isArray(s.tag)&&s.tag.includes(this.searchKeyword)||s.category.includes(this.searchKeyword))}}},watch:{sortStatus:{handler(){this.sortStatus!=="all"?this.getAllProducts():this.firstLoad&&this.getProducts(1)},immediate:!0}},methods:{...f(v,["toggleFavorite"]),...f(w,["getCartList","addToCart"]),...f(y,["getProducts","getAllProducts"]),changeSort(s){s==="餅乾"?this.sortStatus="cookie":s==="蛋糕"?this.sortStatus="cake":s==="麵包"?this.sortStatus="toast":this.sortStatus=s},searchProducts(){this.sortStatus="search",this.searchKeyword=this.cacheSearch},tagSearch(s){this.searchKeyword=s,this.sortStatus="search"}},mounted(){this.getCartList(),this.getProducts(),this.firstLoad=!0},components:{Pagination:A,CurrentCouponModal:B}},V=M('<header class="relative"><video class="h-[468px] w-full object-cover object-bottom" src="'+N+'" autoplay muted loop></video><div class="z-1 absolute bottom-0 left-0 right-0 top-0 h-full bg-[#ffffff60] backdrop-blur-md"><div class="absolute left-0 right-0 mx-auto flex h-full flex-col justify-center text-center"><h3 class="mb-2 font-montserrat text-2xl font-bold tracking-[0.2rem] text-neutral-100 opacity-70"> Online Shop </h3><h2 class="font-maru text-5xl font-medium tracking-widest text-neutral-50 md:text-[64px]">線上商店</h2></div></div></header>',1),F={class:"container"},I={class:"mb-6 mt-10 flex flex-col items-center sm:flex-row md:mb-12 md:mt-16"},D=t("div",{class:"hidden xl:block xl:w-1/3"},null,-1),E={class:"flex w-full list-none flex-row justify-center gap-2 pl-0 sm:justify-start md:gap-5 xl:w-2/3 xl:justify-center"},O={role:"presentation",class:"w-full sm:w-auto"},R=t("span",{class:"material-symbols-outlined mb-1"},"package_2",-1),U=t("p",null,"全部",-1),q=[R,U],H={role:"presentation",class:"w-full sm:w-auto"},G=t("span",{class:"material-symbols-outlined mb-1"},"breakfast_dining",-1),J=t("p",null,"麵包",-1),Q=[G,J],W={role:"presentation",class:"w-full sm:w-auto"},X=t("span",{class:"material-symbols-outlined mb-1"},"cake",-1),Y=t("p",null,"蛋糕",-1),Z=[X,Y],$={role:"presentation",class:"w-full sm:w-auto"},tt=t("span",{class:"material-symbols-outlined"},"cookie",-1),et=t("p",null,"餅乾",-1),st=[tt,et],ot={class:"w-full sm:w-7/12 md:block md:w-1/2 xl:w-1/3"},rt={class:"card-img relative ml-auto flex w-full flex-wrap items-stretch xl:w-4/5"},lt=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),at=[lt],it={key:0,class:"text-center"},nt=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"mr-2 inline-block h-5 w-5"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),ct=t("br",null,null,-1),dt={key:1,class:"mb-7"},ut={class:"flex items-center justify-center"},ht=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"mr-2 inline-block h-5 w-5"},[t("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),pt={class:"-mx-3 flex flex-wrap gap-y-5"},mt={class:"relative flex h-full flex-col overflow-hidden rounded-xl border"},ft={class:"card-img relative aspect-square overflow-hidden"},gt=["src","alt"],xt=["onClick"],bt={key:0,class:"material-symbols-outlined text-3xl text-red-400",style:{"font-variation-settings":`'FILL' 1,
                      'opsz' 24`}},_t={key:1,class:"material-symbols-outlined text-3xl text-red-400"},wt={key:0,class:"absolute left-0 top-0 z-10 p-4"},vt=t("p",{class:"flex h-[36px] w-[36px] items-center justify-center rounded-full bg-brown-300 text-sm font-medium text-white"}," 推 ",-1),yt=[vt],kt=t("div",{class:"view-detail absolute left-1/2 top-1/2 z-[5] hidden -translate-x-1/2 -translate-y-1/4"},[t("p",{href:"#",class:"z-5 flex items-center whitespace-nowrap py-2 pl-8 pr-6 text-sm font-medium uppercase leading-normal tracking-wider text-white"},[h(" 查看商品資訊 "),t("span",{class:"material-symbols-outlined ml-1"},"keyboard_double_arrow_right")])],-1),St={class:"flex min-h-[150px] grow flex-col justify-between p-5"},Ct={class:"mb-1 text-lg font-medium text-black lg:text-2xl"},zt={class:"-ml-1 mb-2 flex gap-1 text-sm text-gray-400"},Pt=["onClick"],Lt=["onClick"],Kt={class:"flex items-center justify-between"},jt={class:"flex flex-col"},Mt={key:0,class:"op ml-2 rounded-full bg-success px-2 font-montserrat text-xs text-white"},At=["disabled","onClick"],Bt={key:0,class:"mr-2 inline-block h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"},Nt=t("span",{class:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"}," Loading... ",-1),Tt=[Nt];function Vt(s,r,Ft,It,o,i){const k=g("RouterLink"),S=g("Pagination"),C=g("CurrentCouponModal");return l(),a(x,null,[V,t("main",F,[t("div",I,[D,t("ul",E,[t("li",O,[t("a",{href:"#pills-all",class:c(["my-2 block rounded px-1 pb-3.5 pt-4 text-center text-xs font-medium uppercase leading-tight text-neutral-500 sm:px-7",{"bg-brown-100 text-white":o.sortStatus==="all"||o.searchKeyword===""&&o.sortStatus==="search","bg-neutral-100":o.sortStatus!=="all"&&!(o.searchKeyword===""&&o.sortStatus==="search")}]),onClick:r[0]||(r[0]=p(e=>i.changeSort("all"),["prevent"]))},q,2)]),t("li",H,[t("a",{href:"#pills-toast",class:c(["my-2 block rounded px-1 pb-3.5 pt-4 text-center text-xs font-medium uppercase leading-tight text-neutral-500 sm:px-7",{"bg-brown-100 text-white":o.sortStatus==="toast","bg-neutral-100":o.sortStatus!=="toast"}]),id:"pills-toast-tab",onClick:r[1]||(r[1]=p(e=>i.changeSort("toast"),["prevent"]))},Q,2)]),t("li",W,[t("a",{href:"#pills-cake",class:c(["my-2 block rounded px-1 pb-3.5 pt-4 text-center text-xs font-medium uppercase leading-tight text-neutral-500 sm:px-7",{"bg-brown-100 text-white":o.sortStatus==="cake","bg-neutral-100":o.sortStatus!=="cake"}]),onClick:r[2]||(r[2]=p(e=>i.changeSort("cake"),["prevent"]))},Z,2)]),t("li",$,[t("a",{href:"#pills-cookie",class:c(["my-2 block rounded px-1 pb-3.5 pt-4 text-center text-xs font-medium uppercase leading-tight text-neutral-500 sm:px-7",{"bg-brown-100 text-white":o.sortStatus==="cookie","bg-neutral-100":o.sortStatus!=="cookie"}]),role:"tab",onClick:r[3]||(r[3]=p(e=>i.changeSort("cookie"),["prevent"]))},st,2)])]),t("div",ot,[t("div",rt,[P(t("input",{type:"search",class:"focus:border-primary relative m-0 -mr-0.5 block w-[1px] min-w-0 flex-auto rounded-l border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-3 text-base font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border focus:border-r-0 focus:border-brown-100 focus:text-neutral-700 focus:outline-none",placeholder:"搜尋商品","aria-label":"Search","aria-describedby":"button-addon1",onKeyup:r[4]||(r[4]=K(e=>i.searchProducts(),["enter"])),"onUpdate:modelValue":r[5]||(r[5]=e=>o.cacheSearch=e)},null,544),[[L,o.cacheSearch]]),t("button",{type:"button",class:"focus:bg-primary-700 active:bg-primary-800 relative z-[2] flex items-center rounded-r bg-brown-300 px-4 py-2.5 text-xs font-medium uppercase leading-tight text-white transition duration-150 ease-in-out hover:bg-brown-100 focus:outline-none focus:ring-0",onClick:r[6]||(r[6]=e=>i.searchProducts())},at)])])]),i.filteredProducts.search.length===0&&o.sortStatus==="search"?(l(),a("div",it,[t("p",null,[nt,h(" "+d(o.searchKeyword)+" ",1),ct,h("  查無資料 ")])])):i.filteredProducts.search.length>=0&&o.sortStatus==="search"&&o.searchKeyword!==""?(l(),a("div",dt,[t("p",ut,[ht,h(" 「 "+d(o.searchKeyword)+" 」的搜尋結果 ",1)])])):u("",!0),t("div",{class:c(["mb-6 opacity-100 transition-opacity duration-150 ease-linear",{"pb-14":this.sortStatus!=="all"}])},[t("ul",pt,[(l(!0),a(x,null,b(i.filteredProducts[o.sortStatus],e=>(l(),a("li",{"data-aos":"fade-up","data-aos-duration":"800",class:"productCard w-full px-3 sm:w-1/2 lg:w-1/3 xl:w-1/4",key:e.id},[t("div",mt,[t("div",ft,[t("img",{class:"relative h-full w-full object-cover",src:e.imageUrl,alt:e.title},null,8,gt),t("button",{type:"button",class:"absolute right-0 top-0 z-10 p-4",onClick:n=>s.toggleFavorite(e)},[s.favorite.some(n=>n.id===e.id)?(l(),a("span",bt," favorite ")):(l(),a("span",_t,"favorite"))],8,xt),e.is_recommend?(l(),a("div",wt,yt)):u("",!0),kt]),t("div",St,[t("div",null,[t("h4",Ct,d(e.title),1),t("div",zt,[t("button",{type:"button",class:"z-10 px-1 py-[1px] hover:bg-brown-100 hover:text-white",onClick:n=>i.changeSort(e.category)}," # "+d(e.category),9,Pt),(l(!0),a(x,null,b(e.tag,n=>(l(),a("button",{type:"button",class:"z-10 px-1 py-[1px] hover:bg-brown-100 hover:text-white",onClick:Dt=>i.tagSearch(n),key:n}," # "+d(n),9,Lt))),128))])]),t("div",Kt,[t("div",jt,[t("div",null,[t("span",{class:c(["text-xl font-medium text-black-light",{"text-success":e.price!==e.origin_price}])}," NT "+d(s.$filters.currency(e.price)),3),e.price!==e.origin_price?(l(),a("span",Mt," SALE ")):u("",!0)]),t("span",{class:c(["text-xs text-gray-500 line-through",{hidden:e.price===e.origin_price}])}," NT "+d(s.$filters.currency(e.origin_price)),3)]),t("button",{type:"button",class:c(["btn-add-cart active:bg-cerulean-700 z-10 flex items-center rounded-full bg-brown-300 px-6 py-2 text-sm font-medium uppercase leading-normal tracking-wider text-white transition duration-150 ease-in-out hover:opacity-80 focus:outline-none focus:ring-0",{"bg-gray-300":s.status.loadingIcon===e.id}]),disabled:s.status.loadingIcon===e.id,onClick:n=>s.addToCart(e,1)},[s.status.loadingIcon===e.id?(l(),a("div",Bt,Tt)):u("",!0),h(" 加入購物車 ")],10,At)])]),_(k,{to:`product/${e.id}`,class:"after:absolute after:inset-0 after:left-0 after:right-0 after:top-0 after:z-[9]"},null,8,["to"])])]))),128))])],2)]),this.sortStatus==="all"?(l(),j(S,{key:0,pages:s.pagination,onChangePage:s.getProducts},null,8,["pages","onChangePage"])):u("",!0),_(C)],64)}const Xt=z(T,[["render",Vt]]);export{Xt as default};
