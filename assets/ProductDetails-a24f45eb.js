import{a as S,Z as I}from"./tw-elements.es.min-5f64f089.js";import{N as j,S as V,a as B}from"./navigation-b8de04ac.js";import{_ as M,m as v,b as w,r as _,o as l,c as r,e as m,d as e,w as g,j as k,n as f,f as c,F as x,i as y,h,t as d,g as u,k as F,v as U,q,s as A}from"./index-ca38e9cf.js";import{c as D}from"./cartStore-9f55d8ad.js";import{f as C}from"./favoriteStore-763d4c0f.js";import{p as N}from"./productStore-4aef7cd1.js";import"./swalMixin-324c732d.js";const O={data(){return{productDetails:{},currentImages:"",currentImageOpacity:1,buyNum:1,cachePrice:0,state:{isLoading:!1},modules:[j]}},computed:{...v(D,["cartList","cartTotalPrice","status","currentStep"]),...v(C,["favorite"]),...v(N,["productList"]),moreProduct(){const o=this.productList.filter(a=>a.id!==this.productDetails.id&&a.category===this.productDetails.category),i=this.productList.filter(a=>a.id!==this.productDetails.id&&a.category!==this.productDetails.category);return o.push(...i),o}},watch:{$route(){window.location.reload()}},methods:{...w(D,["delCartItem","updateCart","getCartList","updateCurrentStep","addToCart"]),...w(C,["toggleFavorite"]),...w(N,["getProducts"]),getProductDetails(){this.state.isLoading=!0;const{id:o}=this.$route.params,i=`https://vue3-course-api.hexschool.io/api/yu-api/product/${o}`;this.$http.get(i).then(a=>{a.data.success&&(this.productDetails=a.data.product,this.currentImages=a.data.product.imageUrl,this.cachePrice=a.data.product.price,this.state.isLoading=!1)})},changeCurrentImage(o){this.currentImageOpacity=0,setTimeout(()=>{this.currentImages=o,this.currentImageOpacity=1},150)},updateBuyNum(o){o===1||o===-1?this.buyNum+=o:o<=0&&(this.buyNum=1,this.cachePrice=this.productDetails.price),this.cachePrice=this.productDetails.price,this.cachePrice*=this.buyNum}},mounted(){S({Collapse:I}),this.getProductDetails(),this.getCartList(),this.getProducts()},components:{Swiper:V,SwiperSlide:B}},E={"data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true"},H={class:"container pb-14 pt-28"},Z={class:"flex flex-col justify-center lg:flex-row"},R={class:"md:pr-10 lg:w-5/12 xl:w-4/12"},G=e("div",{class:"flex items-center"},[e("span",{class:"mr-1 material-symbols-outlined"}," keyboard_double_arrow_left "),u("返回商品列表 ")],-1),J=["src","alt"],K={class:"flex flex-wrap gap-3"},Q={href:"#"},W=["src","alt"],X={href:"#"},Y=["src","alt","onClick"],$={class:"pt-5 sm:pt-10 lg:w-5/12"},ee={class:"flex mb-2"},te={class:"flex items-center w-11/12 text-3xl font-bold tracking-wide text-black sm:text-4xl font-noto-serif"},se={key:0,class:"inline-block mr-3"},oe=e("p",{class:"font-sans w-[32px] h-[32px] flex justify-center items-center text-white text-sm font-medium rounded-full bg-brown-300"},"推",-1),ie=[oe],le={class:"inline-block"},re={key:0,class:"align-middle text-danger material-symbols-outlined",style:{"font-variation-settings":`'FILL' 1,\r
                    'opsz' 24`}},ae={key:1,class:"align-middle text-brown-100 material-symbols-outlined"},ne={class:"mb-3 text-black-light"},ce={key:0,class:"font-bold text-success"},de={key:1,class:"self-end px-2 ml-2 text-xs text-white rounded-full font-montserrat bg-success"},ue=["innerHTML"],pe=q('<button class="group relative pb-1 mb-1 flex w-full items-center rounded-none border-0 transition [overflow-anchor:none] hover:z-[2] focus:z-[3] focus:outline-none [&amp;:not([data-te-collapse-collapsed])]:[box-shadow:inset_0_-1px_0_rgba(229,231,235)]" type="button" data-te-collapse-init data-te-collapse-collapsed data-te-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"><h3 class="font-noto-serif font-medium text-xl relative inline-block after:-z-[1] after:-left-1 after:-right-1 mb-2 after:bg-warning after:absolute after:top-1/2 after:bottom-0">詳細內容</h3><span class="ml-2 h-5 w-5 shrink-0 rotate-[-180deg] transition-transform duration-200 ease-in-out group-[[data-te-collapse-collapsed]]:mr-0 group-[[data-te-collapse-collapsed]]:rotate-0 group-[[data-te-collapse-collapsed]]:fill-[#212529] motion-reduce:transition-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path></svg></span></button>',1),me={id:"collapseTwo",class:"!visible hidden mb-4 mt-2","data-te-collapse-item":"","aria-labelledby":"headingTwo","data-te-parent":"#accordionExample"},fe=["innerHTML"],he={class:"mb-6"},ge=e("h3",{class:"font-noto-serif font-medium text-xl relative inline-block after:-z-[1] after:-left-1 after:-right-1 mb-4 after:bg-warning after:absolute after:top-1/2 after:bottom-0"},"購買數量",-1),be={class:"flex items-center mb-2"},_e=["disabled"],xe=e("span",{class:"hidden pl-2 text-sm text-gray-400 sm:inline-block"}," 個",-1),ve=e("span",{class:"pl-1 text-2xl align-bottom text-brown-300 material-symbols-outlined"},"add",-1),we=[ve],ye={class:"flex min-[460px]:items-center max-[460px]:flex-col justify-between lg:items-start"},ke={class:"text-sm lg:mb-0 lg:self-end max-[460px]:mb-3"},De={class:"mx-1 text-lg font-bold tracking-wider font-noto-serif"},Ce={class:"flex gap-4"},Ne=["disabled"],Le={key:0,class:"flex items-center gap-1 absolute bottom-[105%] right-0 justify-center left-0 text-danger"},Pe=e("span",{class:"text-lg material-symbols-outlined"}," error ",-1),Te={class:"px-5 py-3 mb-4 border-2 border-gray-300 border-dotted rounded-lg"},ze=e("h4",{class:"mb-2"},"消費滿 NT $1,500，享有免運費優惠",-1),Se={class:"flex flex-col justify-between sm:flex-row"},Ie=e("p",{class:"text-sm text-black-light"},[u("[付款] 信用卡(一次付清)、貨到付款、ATM 轉帳"),e("br"),u("[運送] 黑貓低溫宅配、工作室自取")],-1),je=e("span",{class:"hidden mr-1 text-xl align-middle rotate-45 xl:inline-block material-symbols-outlined text-info"}," link ",-1),Ve=e("p",{class:"inline-block font-bold leading-[22px] border-b border-info text-info"},"常見問題",-1),Be={class:"sm:pt-4 pb-[72px] bg-neutral-50 bg-opacity-50"},Me={class:"container"},Fe=e("h3",{"data-aos":"fade-up","data-aos-duration":"800",class:"mb-10 text-[40px] font-medium tracking-widest text-center font-maru text-brown-500"},"更多商品⋯",-1),Ue={class:"w-full h-full px-2 xl:px-3 productCard"},qe={class:"relative flex flex-col h-full overflow-hidden border rounded-xl"},Ae={class:"relative overflow-hidden card-img aspect-square"},Oe=["src","alt"],Ee=["onClick"],He={key:0,class:"text-3xl text-red-400 material-symbols-outlined",style:{"font-variation-settings":`'FILL' 1,\r
                          'opsz' 24`}},Ze={key:1,class:"text-3xl text-red-400 material-symbols-outlined"},Re={key:0,class:"absolute top-0 left-0 z-10 p-4"},Ge=e("p",{class:"w-[36px] h-[36px] flex justify-center items-center text-white text-sm font-medium rounded-full bg-brown-300"},"推",-1),Je=[Ge],Ke=e("div",{class:"absolute -translate-y-1/4 -translate-x-1/2 z-[5] left-1/2 top-1/2 view-detail hidden"},[e("p",{href:"#",class:"flex items-center py-2 pl-8 pr-6 text-sm font-medium leading-normal tracking-wider text-white uppercase whitespace-nowrap z-5"},[u("查看商品資訊"),e("span",{class:"ml-1 material-symbols-outlined"}," keyboard_double_arrow_right ")])],-1),Qe={class:"p-5 min-h-[150px] flex flex-col justify-between grow"},We={class:"mb-1 text-lg font-medium text-black lg:text-xl"},Xe={class:"flex flex-wrap -ml-1 text-sm text-gray-400 gap-x-1"},Ye=["onClick"],$e=["onClick"],et={class:"flex flex-col gap-1 sm:justify-between sm:items-center sm:flex-row"},tt={class:"flex flex-col"},st={class:"flex items-center"},ot={key:0,class:"text-[10px] block px-2 text-white rounded-full md:hidden lg:block font-montserrat op bg-success"},it=["onClick"];function lt(o,i,a,rt,t,p){const L=_("LoadingAnimation"),b=_("RouterLink"),P=_("swiper-slide"),T=_("swiper");return l(),r(x,null,[m(L,{active:t.state.isLoading,"lock-scroll":!0},null,8,["active"]),e("main",E,[e("section",H,[e("div",Z,[e("div",R,[m(b,{to:"/shop",class:"inline-block mb-4"},{default:g(()=>[G]),_:1}),e("img",{src:t.currentImages,alt:t.productDetails.title,class:"object-cover w-full mb-4 rounded-lg aspect-square",style:k({opacity:t.currentImageOpacity,transition:"opacity 0.15s"})},null,12,J),e("ul",K,[e("li",null,[e("a",Q,[e("img",{src:t.productDetails.imageUrl,alt:t.productDetails.title+1,class:f(["w-[106px] object-cover aspect-square rounded-lg",{"opacity-50":t.currentImages===t.productDetails.imageUrl}]),onClick:i[0]||(i[0]=c(s=>p.changeCurrentImage(t.productDetails.imageUrl),["prevent"]))},null,10,W)])]),(l(!0),r(x,null,y(t.productDetails.imagesUrl,(s,n)=>(l(),r("li",{key:s},[e("a",X,[e("img",{src:s,alt:t.productDetails.title+(n+2),class:f(["w-[106px] object-cover aspect-square rounded-lg",{"opacity-50":t.currentImages===s}]),onClick:c(z=>p.changeCurrentImage(s),["prevent"])},null,10,Y)])]))),128))])]),e("div",$,[e("div",ee,[e("div",te,[t.productDetails.is_recommend?(l(),r("div",se,ie)):h("",!0),e("h2",le,d(t.productDetails.title),1)]),e("button",{class:f(["border-2 rounded-full w-[40px] h-[40px] ml-auto inline-block border-brown-100",o.favorite.some(s=>s.id===t.productDetails.id)?"border-danger":"border-brown-100"]),title:"加入收藏",onClick:i[1]||(i[1]=c(s=>o.toggleFavorite(t.productDetails),["prevent"]))},[o.favorite.some(s=>s.id===t.productDetails.id)?(l(),r("span",re," favorite ")):(l(),r("span",ae," favorite "))],2)]),e("p",ne,[e("span",{class:f({"line-through mr-2 text-gray-400":t.productDetails.origin_price!==t.productDetails.price})},"NT "+d(t.productDetails.origin_price)+" 元",3),t.productDetails.origin_price!==t.productDetails.price?(l(),r("span",ce,"NT "+d(t.productDetails.price)+" 元",1)):h("",!0),u(" / "+d(t.productDetails.unit)+" ",1),t.productDetails.origin_price!==t.productDetails.price?(l(),r("span",de,"SALE")):h("",!0)]),e("div",{class:"mb-4",innerHTML:t.productDetails.description},null,8,ue),e("div",null,[pe,e("div",me,[e("div",{innerHTML:t.productDetails.content,class:"ingredients-list !visible",id:"collapseOne","data-te-collapse-item":"","data-te-collapse-show":""},null,8,fe)])]),e("div",he,[ge,e("div",be,[e("button",{class:"pr-1",onClick:i[2]||(i[2]=c(s=>p.updateBuyNum(-1),["prevent"])),disabled:t.buyNum===1},[e("span",{class:"text-2xl align-bottom text-brown-300 material-symbols-outlined",style:k({color:t.buyNum===1?"#d1d5db":""})},"remove",4)],8,_e),F(e("input",{type:"number",min:"1",class:"outline-none focus:outline-none max-w-[60px] bg-transparent border text-center pt-[1px] pb-[2px]","onUpdate:modelValue":i[3]||(i[3]=s=>t.buyNum=s),onChange:i[4]||(i[4]=s=>p.updateBuyNum(t.buyNum))},null,544),[[U,t.buyNum]]),xe,e("button",{onClick:i[5]||(i[5]=c(s=>p.updateBuyNum(1),["prevent"]))},we)]),e("div",ye,[e("p",ke,[u("總計 "),e("span",De,d(t.cachePrice),1),u(" 元 ")]),e("div",Ce,[m(b,{to:"/checkout/cart",type:"button",class:"z-10 flex items-center px-8 py-2 text-sm font-medium leading-normal tracking-wider uppercase transition duration-150 ease-in-out border rounded-full border-brown-300 focus:outline-none focus:ring-1 hover:opacity-80 text-brown-300"},{default:g(()=>[u("前往結帳")]),_:1}),e("button",{type:"button",class:"relative z-10 flex items-center px-8 py-2 text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full bg-brown-300 focus:outline-none focus:ring-0 hover:opacity-80 disabled:bg-gray-300",onClick:i[6]||(i[6]=c(s=>o.addToCart(t.productDetails,t.buyNum),["prevent"])),disabled:!t.productDetails.is_enabled},[u("加入購物車 "),t.productDetails.is_enabled?h("",!0):(l(),r("span",Le,[Pe,u("目前無法購買")]))],8,Ne)])])]),e("div",Te,[ze,e("div",Se,[Ie,m(b,{to:"/faq",target:"_blank",class:"self-end text-sm"},{default:g(()=>[je,Ve]),_:1})])])])])]),e("section",Be,[e("div",Me,[Fe,m(T,{"data-aos":"fade-up","data-aos-duration":"800","data-aos-offset":"200",navigation:!0,slidesPerView:4,loop:!0,modules:t.modules,breakpoints:{0:{slidesPerView:1},500:{slidesPerView:2},768:{slidesPerView:3},1550:{slidesPerView:4},1920:{slidesPerView:4}},class:"relative lg:px-20 mySwiper after:lg:absolute after:lg:bg-neutral-50 after:lg:top-0 after:lg:-ml-20 after:lg:z-[10] after:lg:bottom-0 after:lg:w-20 before:lg:absolute before:lg:bg-neutral-50 before:lg:top-0 before:lg:right-0 before:lg:z-[10] before:lg:bottom-0 before:lg:w-20"},{default:g(()=>[(l(!0),r(x,null,y(p.moreProduct,s=>(l(),A(P,{key:s.id,class:"h-auto"},{default:g(()=>[e("div",Ue,[e("div",qe,[e("div",Ae,[e("img",{class:"relative object-cover w-full h-full",src:s.imageUrl,alt:s.title},null,8,Oe),e("button",{class:"absolute top-0 right-0 z-10 p-4",onClick:c(n=>o.toggleFavorite(s),["prevent"])},[o.favorite.some(n=>n.id===s.id)?(l(),r("span",He," favorite ")):(l(),r("span",Ze," favorite "))],8,Ee),s.is_recommend?(l(),r("div",Re,Je)):h("",!0),Ke]),e("div",Qe,[e("div",null,[e("h3",We,d(s.title),1),e("div",Xe,[e("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:c(n=>o.changeSort(s.category),["prevent"])},"# "+d(s.category),9,Ye),(l(!0),r(x,null,y(s.tag,n=>(l(),r("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:c(z=>o.tagSearch(n),["prevent"]),key:n},"# "+d(n),9,$e))),128))])]),e("div",et,[e("div",tt,[e("div",st,[e("span",{class:f(["mr-2 font-medium whitespace-nowrap md::text-xl text-black-light",{"text-success":s.price!==s.origin_price}])},"NT "+d(o.$filters.currency(s.price)),3),s.price!==s.origin_price?(l(),r("span",ot,"SALE")):h("",!0)]),e("span",{class:f(["text-xs text-gray-500 line-through",{hidden:s.price===s.origin_price}])}," NT "+d(o.$filters.currency(s.origin_price)),3)]),e("button",{type:"button",class:"z-10 flex items-center self-end px-6 py-2 text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full whitespace-nowrap w-fit btn-add-cart bg-brown-300 focus:outline-none focus:ring-0 active:bg-cerulean-700 hover:opacity-80",onClick:c(n=>o.addToCart(s,1),["prevent"])}," 加入購物車 ",8,it)])]),m(b,{to:"/product/"+s.id,class:"after:z-[9] after:top-0 after:left-0 after:right-0 after:absolute after:inset-0"},null,8,["to"])])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])],64)}const ft=M(O,[["render",lt]]);export{ft as default};
