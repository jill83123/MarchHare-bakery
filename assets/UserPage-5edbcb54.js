import{m as k,a as T,b as L,_ as V,c as w,r as m,o as n,d as r,e as t,f as a,w as c,g as d,t as u,h,n as y,F as $,i as H,j as _,k as N,l as q,v as A,p as j,q as M,s as z}from"./index-bf4ebe37.js";import{c as v,s as R}from"./cartStore-b351ca37.js";import{Q as b,q as C}from"./tw-elements.es.min-69e8dc80.js";import{f as D}from"./favoriteStore-c113458f.js";import{S as B}from"./swalMixin-1ccae8ce.js";import"./base-593d189d.js";const E={data(){return{state:{isLoading:!1,collapseToggle:!1}}},computed:{...k(v,["cartList","cartTotalPrice","status","currentStep"]),...T(D)},methods:{...L(v,["delCartItem","updateCart"]),stickyNav(){const{nav:e}=this.$refs;e&&(window.scrollY>=76||this.collapseToggle?e.classList.add("fixed-nav"):e.classList.remove("fixed-nav"))},hideCollapse(){new b(this.$refs.collapse).hide()},goToShopping(){this.hideCollapse(),this.$router.push("/shop")},goToCheckout(){this.hideCollapse(),this.$router.push("/checkout")},clickAwayHideCart(e){["swal-btn-check","swal-btn-cancel","swal2-title","swal2-icon","swal2-modal","swal2-container","btn-add-cart"].some(p=>e.target.classList.contains(p))||(this.$refs.collapse&&this.$refs.collapse.hasAttribute&&this.$refs.collapse.hasAttribute("data-te-collapse-show")===!0&&!this.$refs.collapse.contains(e.target)&&this.hideCollapse(),this.$refs.collapse&&this.$refs.collapseItem.hasAttribute("data-te-collapse-show")===!0&&(new b(this.$refs.collapseItem).hide(),this.collapseToggle=!1))}},mounted(){C({Collapse:b,initTE:C}),window.addEventListener("scroll",this.stickyNav),document.addEventListener("click",this.clickAwayHideCart)},beforeUnmount(){document.removeEventListener("click",this.clickAwayHideCart),this.$refs.collapse&&new b(this.$refs.collapse).dispose()},mixins:[B],components:{LogoComponent:V}},l=e=>(j("data-v-4ca1dd1f"),e=e(),M(),e),U={ref:"nav",class:"fixed left-0 right-0 top-0 z-[1039] flex items-center justify-between py-2 md:flex-wrap md:justify-start","data-te-navbar-ref":""},Z={class:"container flex w-full flex-wrap items-center justify-between px-3 text-gray-500"},G=l(()=>t("h1",{class:"ml-2 font-maru text-2xl font-medium text-brown-300"},[d(" 三月兔 "),t("span",{class:"ml-2 text-sm"},"下午茶")],-1)),Y={class:"flex items-center"},O={class:"flex items-center gap-4 lg:hidden"},P=l(()=>t("span",{class:"material-symbols-outlined align-middle",style:{"font-variation-settings":`'FILL' 1,
                    'wght' 400,
                    'GRAD' 0,
                    'opsz' 24`}}," favorite ",-1)),W=l(()=>t("span",{class:"material-symbols-outlined align-middle",style:{"font-variation-settings":`'FILL' 1,
                    'wght' 400,
                    'GRAD' 0,
                    'opsz' 24`}}," shopping_cart ",-1)),I=l(()=>t("span",{class:"hamburger-icon [&>svg]:w-5"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-7 w-7"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])],-1)),Q=[I],J={class:"!visible relative hidden basis-[100%] font-medium lg:!flex lg:basis-auto",id:"navbarSupportedContentY","data-te-collapse-item":"",ref:"collapseItem"},K={class:"mr-auto flex flex-col lg:flex-row","data-te-navbar-nav-ref":""},X={class:"leading-9 lg:my-0","data-te-nav-item-ref":""},tt={class:"leading-9 lg:my-0","data-te-nav-item-ref":""},et={class:"leading-9 lg:mb-0","data-te-nav-item-ref":""},st={class:"leading-9 lg:mb-0","data-te-nav-item-ref":""},ot={class:"ml-11 hidden items-center lg:flex lg:gap-8"},at=l(()=>t("span",{class:"material-symbols-outlined align-middle",style:{"font-variation-settings":`'FILL' 1,
                    'wght' 400,
                    'GRAD' 0,
                    'opsz' 24`}}," favorite ",-1)),lt={key:0,class:"absolute -right-[30%] -top-[15%] flex h-[16px] w-[16px] items-center justify-center rounded-full bg-red-400 p-1 text-xs text-white"},it=l(()=>t("span",{class:"material-symbols-outlined align-middle",style:{"font-variation-settings":`'FILL' 1,
                    'wght' 400,
                    'GRAD' 0,
                    'opsz' 24`}}," shopping_cart ",-1)),nt={key:0,class:"absolute -right-[30%] -top-[15%] flex h-[16px] w-[16px] items-center justify-center rounded-full bg-red-400 p-1 text-white"},rt={class:"text-xs"},ct={class:"!visible absolute right-0 top-[100%] mt-3 hidden max-h-[500px] rounded-md border bg-[rgb(255,255,255,0.95)] lg:min-w-[550px]","data-te-collapse-item":"",id:"collapseWithScrollbar",ref:"collapse"},dt={class:"py-4 pr-2 text-black-light"},pt={class:"mb-3 flex border-b-2 border-dotted border-gray-300 pb-3 pl-4"},ut=l(()=>t("h3",{class:"mr-1"},"購物車列表",-1)),ht={key:0,class:"ml-1 flex items-center gap-1 text-gray-500"},mt=l(()=>t("div",{class:"inline-block h-3 w-3 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"},[t("span",{class:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"}," Loading... ")],-1)),ft=l(()=>t("p",{class:"text-sm"},"更新中 ⋯",-1)),gt=[mt,ft],_t={key:0,class:"cart-list mb-3 flex max-h-[338px] flex-col overflow-y-auto pb-3"},bt=["src","alt"],vt={class:"flex w-3/4 grow flex-col justify-between px-2"},xt={class:"flex flex-col justify-between"},wt={class:"inline truncate text-lg"},yt={key:0,class:"op ml-2 rounded-full bg-success px-2 font-montserrat text-xs text-white"},Ct={class:"flex items-center"},kt=["onClick","disabled"],Lt=["onUpdate:modelValue","onChange"],$t={class:"pl-2 text-sm text-gray-400"},St=["onClick","disabled"],Ft=l(()=>t("span",{class:"material-symbols-outlined pl-1 align-bottom text-xl text-brown-300"},"add",-1)),Tt=[Ft],Vt={class:"flex justify-between"},Ht={class:"flex flex-col"},Nt={class:"text-xs text-gray-400"},qt=["onClick"],At=l(()=>t("span",{class:"material-symbols-outlined align-bottom"},"delete",-1)),jt=[At],Mt={key:1,class:"text-center"},zt=l(()=>t("br",null,null,-1)),Rt={class:"mt-3 flex items-center border-t-2 border-dotted border-gray-300 pl-4 pt-4"},Dt={class:"ml-auto flex gap-2"},Bt=["disabled"];function Et(e,o,p,S,F,f){const x=m("LogoComponent"),i=m("RouterLink");return n(),r("nav",U,[t("div",Z,[a(i,{to:"/",class:"flex items-center py-3"},{default:c(()=>[a(x,{color:"#D4A373",size:{width:45,height:36}}),G]),_:1}),t("div",Y,[t("ul",O,[t("li",null,[a(i,{to:"/favorite",class:"block"},{default:c(()=>[P]),_:1})]),t("li",null,[a(i,{to:"/checkout/cart"},{default:c(()=>[W]),_:1})])]),t("button",{type:"button",class:"ml-3 border-0 bg-transparent px-2 text-xl leading-none transition-shadow duration-150 ease-in-out lg:hidden","data-te-collapse-init":"","data-te-target":"#navbarSupportedContentY","aria-controls":"navbarSupportedContentY","aria-expanded":"false","aria-label":"Toggle navigation",onClick:o[0]||(o[0]=s=>{e.collapseToggle=!e.collapseToggle,f.stickyNav()})},Q)]),t("div",J,[t("ul",K,[t("li",X,[a(i,{class:"relative block p-4 transition lg:p-3",to:"/shop","data-te-nav-link-ref":""},{default:c(()=>[d(" 線上商店 ")]),_:1})]),t("li",tt,[a(i,{class:"relative block p-4 transition lg:p-3",to:"/order-details","data-te-nav-link-ref":""},{default:c(()=>[d(" 查詢訂單 ")]),_:1})]),t("li",et,[a(i,{class:"relative block p-4 transition lg:p-3",to:"/blog","data-te-nav-link-ref":""},{default:c(()=>[d("部落格")]),_:1})]),t("li",st,[a(i,{class:"relative block p-4 transition lg:p-3",to:"/faq","data-te-nav-link-ref":""},{default:c(()=>[d(" 常見問題 ")]),_:1})])]),t("ul",ot,[t("li",null,[a(i,{to:"/favorite",class:"favoriteIcon relative block"},{default:c(()=>[at,e.favoriteStore.isFavorite?(n(),r("span",lt,u(e.favoriteStore.favorite.length),1)):h("",!0)]),_:1})]),t("li",{class:y({"cursor-not-allowed":e.currentStep>=2&&e.$route.matched[1].path==="/checkout"})},[t("a",{class:y(["relative block",{"pointer-events-none":e.currentStep>=2&&e.$route.matched[1].path==="/checkout"}]),"data-te-collapse-init":"",href:"#collapseWithScrollbar",role:"button","aria-expanded":"false","aria-controls":"collapseWithScrollbar"},[it,e.cartList&&e.cartList.length>=1?(n(),r("span",nt,[t("span",rt,u(e.cartList.length),1)])):h("",!0)],2)],2)]),t("div",ct,[t("div",dt,[t("div",pt,[ut,e.status.updateIcon!==""?(n(),r("div",ht,gt)):h("",!0)]),e.cartList&&e.cartList.length>=1?(n(),r("ul",_t,[(n(!0),r($,null,H(e.cartList,s=>(n(),r("li",{class:"flex gap-2 py-3 pl-4",key:s.id},[a(i,{to:`/product/${s.id}`,class:"flex aspect-square w-1/4 grow items-center"},{default:c(()=>[t("img",{class:"object-cover",src:s.product.imageUrl,alt:s.product.title,title:"查看詳細資訊"},null,8,bt)]),_:2},1032,["to"]),t("div",vt,[t("div",xt,[t("h4",wt,[d(u(s.product.title)+" ",1),s.product.price!==s.product.origin_price?(n(),r("span",yt," SALE ")):h("",!0)])]),t("div",Ct,[t("button",{type:"button",class:"pr-1",onClick:_(g=>e.updateCart(s.id,s.qty>1?s.qty-1:1),["stop"]),disabled:e.status.updateIcon===s.id||s.qty===1},[t("span",{class:"material-symbols-outlined align-bottom text-xl text-brown-300",style:N({color:s.qty===1?"#d1d5db":""})}," remove ",4)],8,kt),t("label",null,[q(t("input",{type:"text",class:"max-w-[40px] border bg-transparent text-center outline-none focus:outline-none","onUpdate:modelValue":g=>s.qty=g,onChange:g=>e.updateCart(s.id,s.qty===0||s.qty===""?1:s.qty)},null,40,Lt),[[A,s.qty]])]),t("span",$t,u(s.product.unit),1),t("button",{type:"button",onClick:_(g=>e.updateCart(s.id,s.qty+1),["stop"]),disabled:e.status.updateIcon===s.id},Tt,8,St)]),t("div",Vt,[t("div",Ht,[t("span",Nt,"NT "+u(e.$filters.currency(s.product.price))+" 元",1),t("span",null,"小計 NT "+u(e.$filters.currency(s.final_total))+" 元",1)]),t("button",{type:"button",class:"self-end hover:text-danger",onClick:_(g=>e.showSwalCheck("warning","真的要刪除嗎",()=>e.delCartItem("one",s.id)),["stop"])},jt,8,qt)])])]))),128))])):h("",!0),e.cartList.length===0?(n(),r("p",Mt,[d(" 目前購物車是空的 "),zt,d(" 快來 "),t("button",{type:"button",class:"z-10 mx-1 inline-block items-center border-b border-brown-300 font-medium uppercase leading-normal tracking-wider text-brown-300 transition duration-150 ease-in-out hover:opacity-80",onClick:o[1]||(o[1]=_(s=>f.goToShopping(),["stop"]))}," 點我 "),d(" 進行選購吧！ ")])):h("",!0),t("div",Rt,[t("p",null,"共 NT "+u(e.$filters.currency(e.cartTotalPrice))+" 元",1),t("div",Dt,[t("button",{type:"button",class:"active:bg-cerulean-700 z-10 ml-auto flex items-center rounded-full border px-8 py-2 text-sm font-medium uppercase leading-normal tracking-wider text-gray-500 transition duration-150 ease-in-out hover:opacity-80 focus:outline-none focus:ring-0 disabled:text-gray-300 disabled:hover:opacity-100",onClick:o[2]||(o[2]=_(s=>e.showSwalCheck("warning","真的要清空嗎",()=>e.delCartItem("all")),["stop"])),disabled:e.cartList.length<=0}," 清空購物車 ",8,Bt),t("button",{type:"button",class:"to-check active:bg-cerulean-700 z-10 ml-auto flex items-center rounded-full bg-brown-300 px-8 py-2 text-sm font-medium uppercase leading-normal tracking-wider text-white transition duration-150 ease-in-out hover:opacity-80 focus:outline-none focus:ring-0",onClick:o[3]||(o[3]=(...s)=>f.goToCheckout&&f.goToCheckout(...s))}," 前往結帳 ")])])])],512)],512)])],512)}const Ut=w(E,[["render",Et],["__scopeId","data-v-4ca1dd1f"]]),Zt="/MarchHare-bakery/assets/pan_bread_set-72278bcf.png",Gt={},Yt={class:"bg-cream"},Ot={class:"container relative flex flex-col justify-between py-8 sm:flex-row sm:py-10"},Pt=z('<div><ul class="mb-4 flex"><li><a href="#" class="block pr-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 11.89C24 5.32673 18.624 0 12 0C5.376 0 0 5.32673 0 11.89C0 17.6448 4.128 22.4365 9.6 23.5422V15.457H7.2V11.89H9.6V8.91751C9.6 6.62274 11.484 4.75601 13.8 4.75601H16.8V8.32301H14.4C13.74 8.32301 13.2 8.85806 13.2 9.51201V11.89H16.8V15.457H13.2V23.7206C19.26 23.1261 24 18.0609 24 11.89Z" fill="#525252"></path></svg></a></li><li><a href="#" class="block px-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.96 0H17.04C20.88 0 24 3.08368 24 6.87897V16.8416C24 18.666 23.2667 20.4157 21.9615 21.7058C20.6562 22.9958 18.8859 23.7206 17.04 23.7206H6.96C3.12 23.7206 0 20.6369 0 16.8416V6.87897C0 5.05455 0.733284 3.30486 2.03854 2.0148C3.34379 0.724747 5.11409 0 6.96 0ZM6.72 2.37206C5.57426 2.37206 4.47546 2.8219 3.6653 3.62263C2.85514 4.42335 2.4 5.50937 2.4 6.64176V17.0788C2.4 19.439 4.332 21.3485 6.72 21.3485H17.28C18.4257 21.3485 19.5245 20.8987 20.3347 20.098C21.1449 19.2972 21.6 18.2112 21.6 17.0788V6.64176C21.6 4.28156 19.668 2.37206 17.28 2.37206H6.72ZM18.3 4.1511C18.6978 4.1511 19.0794 4.3073 19.3607 4.58533C19.642 4.86336 19.8 5.24045 19.8 5.63364C19.8 6.02683 19.642 6.40392 19.3607 6.68195C19.0794 6.95998 18.6978 7.11617 18.3 7.11617C17.9022 7.11617 17.5206 6.95998 17.2393 6.68195C16.958 6.40392 16.8 6.02683 16.8 5.63364C16.8 5.24045 16.958 4.86336 17.2393 4.58533C17.5206 4.3073 17.9022 4.1511 18.3 4.1511ZM12 5.93015C13.5913 5.93015 15.1174 6.55493 16.2426 7.66704C17.3679 8.77916 18 10.2875 18 11.8603C18 13.4331 17.3679 14.9414 16.2426 16.0535C15.1174 17.1657 13.5913 17.7904 12 17.7904C10.4087 17.7904 8.88258 17.1657 7.75736 16.0535C6.63214 14.9414 6 13.4331 6 11.8603C6 10.2875 6.63214 8.77916 7.75736 7.66704C8.88258 6.55493 10.4087 5.93015 12 5.93015ZM12 8.3022C11.0452 8.3022 10.1295 8.67707 9.45442 9.34434C8.77928 10.0116 8.4 10.9166 8.4 11.8603C8.4 12.804 8.77928 13.709 9.45442 14.3762C10.1295 15.0435 11.0452 15.4184 12 15.4184C12.9548 15.4184 13.8705 15.0435 14.5456 14.3762C15.2207 13.709 15.6 12.804 15.6 11.8603C15.6 10.9166 15.2207 10.0116 14.5456 9.34434C13.8705 8.67707 12.9548 8.3022 12 8.3022Z" fill="#525252"></path></svg></a></li></ul><ul class="mb-4 text-black sm:mb-0 md:mb-0"><li><a href="tel:+" class="flex items-center pb-1 text-sm font-medium tracking-wider text-gray-700"><span class="material-symbols-outlined mr-2">call</span> 0976123456 </a></li><li><a href="mailto:" class="flex items-center pb-1 text-sm font-medium tracking-wider text-gray-700"><span class="material-symbols-outlined mr-2">mail</span> marchhare@gmail.com </a></li><li><a href="#" class="flex items-center pb-1 text-sm font-medium tracking-wider text-gray-700"><span class="material-symbols-outlined mr-2">location_on</span> 台中市北區一中街123-54號 </a></li></ul></div>',1),Wt={class:"text-xs sm:self-end"},It={class:"flex tracking-widest md:justify-end"},Qt=t("li",{class:"mb-1"},[t("a",{href:"https://github.com/jill83123/MarchHare-bakery",target:"_blank",rel:"noopener noreferrer"}," GITHUB | ")],-1),Jt=t("p",{class:"font-medium tracking-widest text-gray-600"},"2023 @ 此網頁僅作為練習使用，非商業用途",-1),Kt=t("img",{class:"absolute right-2 top-0 z-[999] w-[120px] -translate-y-1/2 sm:w-auto",src:Zt,alt:"bread"},null,-1);function Xt(e,o){const p=m("RouterLink");return n(),r("footer",Yt,[t("div",Ot,[Pt,t("div",Wt,[t("ul",It,[Qt,t("li",null,[a(p,{to:"/admin",class:"ml-1"},{default:c(()=>[d("DASHBORD")]),_:1})])]),Jt]),Kt])])}const te=w(Gt,[["render",Xt]]),ee={components:{Navbar:Ut,FooterFrontend:te},computed:{...k(v,["cartList"])},methods:{...L(v,["getCartList"]),delShippingFeeInList(){const e=this.cartList.findIndex(o=>o.id===R.id);e!==-1&&(this.cartList.splice(e,1),localStorage.setItem("cartList",JSON.stringify(this.cartList)),this.getCartList())}},mounted(){this.getCartList(),this.delShippingFeeInList(),this.$router.beforeEach((e,o,p)=>{e.path.indexOf("checkout")===-1&&this.delShippingFeeInList(),p()})}};function se(e,o,p,S,F,f){const x=m("Navbar"),i=m("RouterView"),s=m("FooterFrontend");return n(),r($,null,[a(x),a(i),a(s)],64)}const ce=w(ee,[["render",se]]);export{ce as default};
