import{I as c,J as o}from"./index-6d6785b5.js";const h=c("product",{state:()=>({productList:[],pagination:[],isLoading:!1}),actions:{getProducts(t=1){this.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/yu-api/products?page=${t}`,p=`https://vue3-course-api.hexschool.io/api/yu-api/products?page=${t+1}`;o.get(i).then(s=>{s.data.success&&(this.productList=s.data.products,this.pagination=s.data.pagination,this.pagination.has_next?(this.isLoading=!0,o.get(p).then(a=>{if(a.data.success){const e=a.data.products.slice(0,2);this.productList.push(...e),a.data.products.length<=2&&(this.pagination.has_next=!1,this.pagination.total_pages=1),this.isLoading=!1}})):this.isLoading=!1,this.pagination.has_pre&&this.productList.splice(0,2))})},getAllProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/yu-api/products/all";o.get(t).then(i=>{i.data.success&&(this.productList=i.data.products,this.isLoading=!1)})}}});export{h as p};
