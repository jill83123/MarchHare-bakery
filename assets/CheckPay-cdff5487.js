import{c as _,m as x,b as g,r as u,o as n,d as l,f,w,e,l as r,v as i,N as b,j as k,F as y,i as v,h as c,g as d,n as C,t as a}from"./index-bf4ebe37.js";import{c as p}from"./cartStore-b351ca37.js";import{O as T,_ as I}from"./double-tail-clip-7e68a433.js";import{S as z}from"./swalMixin-1ccae8ce.js";import"./base-593d189d.js";import"./tw-elements.es.min-69e8dc80.js";const V="/MarchHare-bakery/assets/linepay-73450baf.svg",$="/MarchHare-bakery/assets/pay-2ee063f0.svg",j="/MarchHare-bakery/assets/visa-f5642dc9.svg",L={data(){return{}},computed:{...x(p,["cartList","cartTotalPrice","status","finalTotalPrice","userInfo"])},methods:{...g(p,["getCartList","updateCurrentStep","pushUserInfo","useCoupon","submitOrder"])},mounted(){this.userInfo.user.name===""?this.$router.replace("/checkout/information"):this.cartList.length<=0&&this.$router.replace("/checkout/cart"),this.updateCurrentStep(3),this.getCartList()},components:{OrderRules:T},mixins:[z]},P={"data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true",class:"xl:10/12 container mb-12 w-full 2xl:w-7/12"},U=e("div",{class:"flex items-center"},[e("span",{class:"material-symbols-outlined mr-1"},"keyboard_double_arrow_left"),d(" 返回修改 ")],-1),N={class:"flex flex-col-reverse gap-8 lg:flex-row lg:gap-0"},S={class:"relative w-full lg:w-1/2 lg:pr-2"},M=e("img",{class:"absolute -top-3 right-10",src:I,alt:"tail-clip"},null,-1),O={class:"h-full rounded-md border bg-neutral-100 px-5 py-7"},R=e("div",{class:"mb-4"},[e("h2",{class:"text-lg"},"以下為您所填寫的資料："),e("p",{class:"text-sm text-danger"},"※ 確認付款後將無法修改，如需修改請返回上一步")],-1),B={class:"mb-4 flex gap-2"},H={class:"w-1/2"},q=e("label",{for:"name",class:"mb-1 block"},"收件人姓名",-1),D={class:"w-1/2"},E=e("label",{for:"tel",class:"mb-1 block"},"收件人電話",-1),F={class:"mb-4"},W=e("label",{for:"mail",class:"mb-1 block"},"E-mail",-1),A={class:"mb-4"},G=e("label",{for:"address",class:"mb-1 block"},"地址",-1),J={class:"mb-4 border-b-2 border-dashed border-gray-300 pb-4"},K=e("label",{for:"message",class:"mb-1 block"},"留言",-1),Q={class:"flex flex-col justify-between sm:flex-row"},X={class:"mb-3 sm:mb-0"},Y=e("p",{class:"mb-2 block"},[d(" 請選擇付款方式 "),e("span",{class:"text-danger"},"*")],-1),Z={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},ee=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"self"}," 貨到付款 / 到店付款 ",-1),oe={class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},se=e("label",{class:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",for:"other"},[d(" 其他方式 "),e("img",{class:"ml-1 inline h-[20px] object-cover",src:V,alt:"linePay"}),e("img",{class:"ml-1 inline h-[20px] object-cover",src:$,alt:"pay"}),e("img",{class:"ml-1 inline h-[20px] object-cover",src:j,alt:"visa"})],-1),te=["disabled"],re={class:"w-full lg:w-1/2 lg:pl-2"},ae={class:"rounded-md border bg-[rgb(255,255,255,0.95)]"},ne={class:"px-2 py-4 text-black-light"},le=e("div",{class:"mb-2 flex border-b-2 border-dotted border-gray-300 pb-3 pl-2"},[e("h4",{class:"mr-1"},"購物車列表")],-1),de={key:0,class:"cart-list mb-2 flex h-[484px] flex-col overflow-y-auto pb-3"},ie={class:"flex aspect-square w-1/4 grow items-center"},ce=["src","alt"],ue={class:"flex w-3/4 grow flex-col justify-between px-2"},fe={class:"flex items-center justify-between"},be={class:"inline-block max-w-[90%] truncate text-base font-medium sm:text-lg"},pe={class:"inline-block text-sm"},me={class:"flex items-center justify-between"},he={class:"text-xs text-gray-400"},_e={class:"text-sm sm:text-base"},xe={class:"mt-3 flex justify-between border-t-2 border-dotted border-gray-300 px-2 pt-4"},ge={key:0,class:"z-10 flex items-center text-sm text-success"},we=e("span",{class:"material-symbols-outlined mr-1"},"check_circle",-1),ke={class:"ml-auto text-end font-bold tracking-wider"},ye={key:0,class:"text-success"};function ve(o,t,Ce,Te,Ie,ze){const m=u("RouterLink"),h=u("OrderRules");return n(),l("div",P,[f(m,{to:"/checkout/information",class:"mb-4 inline-block"},{default:w(()=>[U]),_:1}),e("div",N,[e("div",S,[M,e("div",O,[R,e("div",B,[e("div",H,[q,r(e("input",{disabled:"",type:"text",class:"m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o.userInfo.user.name=s)},null,512),[[i,o.userInfo.user.name]])]),e("div",D,[E,r(e("input",{disabled:"",type:"tel",class:"m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"tel","onUpdate:modelValue":t[1]||(t[1]=s=>o.userInfo.user.tel=s)},null,512),[[i,o.userInfo.user.tel]])])]),e("div",F,[W,r(e("input",{disabled:"",type:"email",class:"m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"mail","onUpdate:modelValue":t[2]||(t[2]=s=>o.userInfo.user.email=s)},null,512),[[i,o.userInfo.user.email]])]),e("div",A,[G,r(e("input",{disabled:"",type:"text",class:"m-0 block w-full rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"address","onUpdate:modelValue":t[3]||(t[3]=s=>o.userInfo.user.address=s)},null,512),[[i,o.userInfo.user.address]])]),e("div",J,[K,r(e("textarea",{disabled:"",type:"text",class:"m-0 block min-h-[100px] w-full resize-none rounded border-b border-solid border-neutral-200 bg-neutral-50 bg-clip-padding px-3 py-[6px] text-base font-normal leading-[1.6] text-neutral-500 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-brown-300 focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none",id:"message","onUpdate:modelValue":t[4]||(t[4]=s=>o.userInfo.message=s)},null,512),[[i,o.userInfo.message]])]),e("div",Q,[e("div",X,[Y,e("div",Z,[r(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"radio",name:"payWay",id:"self",value:!1,"onUpdate:modelValue":t[5]||(t[5]=s=>o.userInfo.user.order.is_paid=s)},null,512),[[b,o.userInfo.user.order.is_paid]]),ee]),e("div",oe,[r(e("input",{class:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-brown-300 checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-brown-300 checked:after:bg-brown-300 checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-brown-300 checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"radio",name:"payWay",id:"other",value:!0,"onUpdate:modelValue":t[6]||(t[6]=s=>o.userInfo.user.order.is_paid=s)},null,512),[[b,o.userInfo.user.order.is_paid]]),se])]),e("button",{type:"button",class:"to-check z-10 ml-auto flex items-center self-end rounded-full bg-brown-300 px-8 py-2 text-sm font-medium uppercase leading-normal tracking-wider text-white transition duration-150 ease-in-out hover:opacity-80 focus:outline-none focus:ring-0 disabled:bg-gray-300",disabled:o.userInfo.user.order.is_paid===void 0,onClick:t[7]||(t[7]=k(s=>o.showSwalCheck("warning","確認資料並送出",()=>o.submitOrder()),["stop"]))}," 確認購買 ",8,te)])])]),e("div",re,[e("div",ae,[e("div",ne,[le,o.cartList&&o.cartList.length>=1?(n(),l("ul",de,[(n(!0),l(y,null,v(o.cartList,s=>(n(),l("li",{class:"flex gap-2 py-3 pl-4",key:s.id},[e("a",ie,[e("img",{class:"object-cover",src:s.product.imageUrl,alt:s.product.title},null,8,ce)]),e("div",ue,[e("div",fe,[e("h4",be,a(s.product.title),1),e("p",pe,a(s.qty)+" "+a(s.product.unit),1)]),e("div",me,[e("span",he," 單價 NT "+a(o.$filters.currency(s.product.price))+" 元 ",1),e("span",_e,"NT "+a(o.$filters.currency(s.final_total))+" 元",1)])])]))),128))])):c("",!0),e("div",xe,[o.status.coupon&&o.userInfo.couponCode?(n(),l("p",ge,[we,d(" 已套用優惠券 ")])):c("",!0),e("p",ke,[d(" 共 NT "),e("span",{class:C({"mr-2 text-sm text-gray-400 line-through":o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon})},a(o.$filters.currency(o.cartTotalPrice)),3),o.finalTotalPrice!==o.cartTotalPrice&&o.status.coupon?(n(),l("span",ye,a(o.$filters.currency(o.finalTotalPrice)),1)):c("",!0),d(" 元 ")])])])])])]),f(h)])}const Ne=_(L,[["render",ve]]);export{Ne as default};
