import{q as x,V as _}from"./tw-elements.es.min-69e8dc80.js";import{c as w,_ as b,r,o as v,d as y,e,f as l,l as d,v as p,y as u,w as k,F as T,g as m}from"./index-bf4ebe37.js";import{s as I}from"./statesStore-1222e2d4.js";import{T as V}from"./ToastBox-6bc40a70.js";const C={data(){return{admin:{username:"",password:""}}},methods:{signIn(){const i=I(),t="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(t,this.admin).then(n=>{if(n.data.success){const{token:c,expired:a}=n.data;document.cookie=`MarchHareToken=${c}; expires=${new Date(a)}`,this.$router.replace("/admin/product"),i.pushToastMessage(n.data.success,"登入成功")}else i.pushToastMessage(n.data.success,"登入失敗",n.data.message)})}},mounted(){x({Input:_})},components:{Toast:V,LogoComponent:b}},L={style:{background:"url(cloud-bg.png) no-repeat center / cover"}},M={class:"container flex h-screen flex-col"},B={class:"mx-auto my-auto w-full rounded-lg p-10 shadow-md backdrop-blur-sm md:w-2/3 lg:w-[40%]"},K={class:"mb-8 flex items-center justify-center"},N=e("h1",{class:"ml-5 text-xl text-white"},[m(" 三月兔 "),e("br"),e("span",{class:"text-3xl"},"後台登入")],-1),q={class:"relative mb-5","data-te-input-wrapper-init":""},A=e("label",{for:"account",class:"peer-focus:text-primary pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[2.15] text-white transition-all duration-200 ease-out peer-focus:-translate-y-[1.15rem] peer-focus:scale-[0.8] peer-data-[te-input-state-active]:-translate-y-[1.15rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none"}," 帳號 ",-1),D={class:"relative mb-5","data-te-input-wrapper-init":""},F=e("label",{for:"password",class:"peer-focus:text-primary pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[2.15] text-white transition-all duration-200 ease-out peer-focus:-translate-y-[1.15rem] peer-focus:scale-[0.8] peer-data-[te-input-state-active]:-translate-y-[1.15rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none"}," 密碼 ",-1),O={class:"flex"},S=e("span",{class:"material-symbols-outlined mr-1"},"undo",-1),U=e("button",{type:"submit",class:"hover:bg-cerulean-600 active:bg-cerulean-700 ml-auto inline-block rounded bg-cerulean px-6 py-2.5 text-sm font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:opacity-80 focus:outline-none focus:ring-0"}," 登入 ",-1);function j(i,t,n,c,a,s){const f=r("LogoComponent"),h=r("router-link"),g=r("Toast");return v(),y(T,null,[e("div",L,[e("div",M,[e("div",B,[e("div",K,[l(f,{color:"#ffffff",size:{width:100,height:79}}),N]),e("form",{onSubmit:t[4]||(t[4]=(...o)=>s.signIn&&s.signIn(...o))},[e("div",q,[d(e("input",{type:"email",class:"peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[2.15] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-cerulean data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",id:"account",placeholder:"請輸入帳號","onUpdate:modelValue":t[0]||(t[0]=o=>a.admin.username=o),onKeydownOnce:t[1]||(t[1]=u((...o)=>s.signIn&&s.signIn(...o),["enter"]))},null,544),[[p,a.admin.username]]),A]),e("div",D,[d(e("input",{type:"password",class:"peer-focus:text-primary peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[2.15] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",id:"password",placeholder:"請輸入密碼","onUpdate:modelValue":t[2]||(t[2]=o=>a.admin.password=o),onKeydownOnce:t[3]||(t[3]=u((...o)=>s.signIn&&s.signIn(...o),["enter"]))},null,544),[[p,a.admin.password]]),F]),e("div",O,[l(h,{to:"/",class:"flex items-center self-end text-sm text-white"},{default:k(()=>[S,m(" 回首頁 ")]),_:1}),U])],32)])])]),l(g)],64)}const J=w(C,[["render",j]]);export{J as default};
