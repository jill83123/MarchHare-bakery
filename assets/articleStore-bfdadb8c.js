import{I as c,J as o}from"./index-ca38e9cf.js";const g=c("article",{state:()=>({articleList:[],asideList:[],pagination:[],allTags:[],isLoading:!1}),actions:{getArticles(t=1){this.isLoading=!0;const i=`https://vue3-course-api.hexschool.io/api/yu-api/articles?page=${t}`;o.get(i).then(a=>{a.data.success&&(this.articleList=a.data.articles,this.articleList.sort((s,e)=>{const l=new Date(s.create_at);return new Date(e.create_at)-l}),this.pagination=a.data.pagination,this.getTags(),this.asideList=this.articleList.slice(0,5)),this.isLoading=!1})},getTags(){this.allTags=[],this.articleList.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"tag")&&this.allTags.push(...t.tag)}),this.allTags=this.allTags.filter((t,i,a)=>a.indexOf(t)===i)}}});export{g as a};
