import{a as S,Z as I}from"./tw-elements.es.min-5f64f089.js";import{N as V,S as j,a as B}from"./navigation-859f4005.js";import{_ as M,m as x,b as v,r as h,o as l,d as r,f as p,e,w as g,k,n as m,g as a,F as _,j as w,t as c,i as y,h as d,l as F,v as U,c as C,p as A,u as q}from"./index-fa6b6820.js";import{f as D}from"./favoriteStore-ca0e4e33.js";import{p as N}from"./productStore-1b4e4701.js";const O={data(){return{productDetails:{},currentImages:"",currentImageOpacity:1,buyNum:1,cachePrice:0,state:{isLoading:!1,loadingIcon:""},modules:[V]}},computed:{...x(C,["cartList","cartTotalPrice","status","currentStep"]),...x(D,["favorite"]),...x(N,["productList"]),moreProduct(){return this.productList.filter(o=>o.id!==this.productDetails.id)}},watch:{$route(){window.location.reload()}},methods:{...v(C,["delCartItem","updateCart","getCartList","updateCurrentStep","addToCart"]),...v(D,["toggleFavorite"]),...v(N,["getProducts"]),getProductDetails(){this.state.isLoading=!0;const{id:o}=this.$route.params,i=`https://vue3-course-api.hexschool.io/api/yu-api/product/${o}`;this.$http.get(i).then(f=>{f.data.success&&(this.productDetails=f.data.product,this.currentImages=f.data.product.imageUrl,this.cachePrice=f.data.product.price,this.state.isLoading=!1)})},changeCurrentImage(o){this.currentImageOpacity=0,setTimeout(()=>{this.currentImages=o,this.currentImageOpacity=1},150)},updateBuyNum(o){o===1||o===-1?this.buyNum+=o:o<=0&&(this.buyNum=1,this.cachePrice=this.productDetails.price),this.cachePrice=this.productDetails.price,this.cachePrice*=this.buyNum}},mounted(){S({Collapse:I}),this.getProducts()},created(){this.getProductDetails(),this.getCartList()},components:{Swiper:j,SwiperSlide:B}},E={class:"container mb-5 sm:mb-12 mt-28"},H={class:"flex flex-col justify-center md:flex-row"},Z={class:"md:pr-10 md:w-5/12 lg:w-4/12"},R=e("div",{class:"flex items-center"},[e("span",{class:"mr-1 material-symbols-outlined"}," keyboard_double_arrow_left "),d("返回商品列表 ")],-1),G=["src","alt"],J={class:"flex gap-3"},K={href:"#"},Q=["src","alt"],W=["src","alt","onClick"],X={class:"pt-5 sm:pt-10 md:w-7/12 lg:w-5/12"},Y={class:"flex mb-2"},$={class:"inline-block w-11/12 text-3xl font-bold tracking-wide text-black sm:text-4xl font-noto-serif"},ee={class:"inline-block"},te={key:0,class:"align-middle text-danger material-symbols-outlined",style:{"font-variation-settings":`'FILL' 1,\r
                  'opsz' 24`}},se={key:1,class:"align-middle text-brown-100 material-symbols-outlined"},oe={class:"mb-3 text-black-light"},ie={key:0,class:"font-bold text-success"},le={key:1,class:"self-end px-2 ml-2 text-xs text-white rounded-full font-montserrat bg-success"},re=["innerHTML"],ne=A('<button class="group relative pb-1 mb-1 flex w-full items-center rounded-none border-0 transition [overflow-anchor:none] hover:z-[2] focus:z-[3] focus:outline-none [&amp;:not([data-te-collapse-collapsed])]:[box-shadow:inset_0_-1px_0_rgba(229,231,235)]" type="button" data-te-collapse-init data-te-collapse-collapsed data-te-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"><h3 class="font-noto-serif font-medium text-xl relative inline-block after:-z-[1] after:-left-1 after:-right-1 mb-2 after:bg-warning after:absolute after:top-1/2 after:bottom-0">詳細內容</h3><span class="ml-2 h-5 w-5 shrink-0 rotate-[-180deg] transition-transform duration-200 ease-in-out group-[[data-te-collapse-collapsed]]:mr-0 group-[[data-te-collapse-collapsed]]:rotate-0 group-[[data-te-collapse-collapsed]]:fill-[#212529] motion-reduce:transition-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path></svg></span></button>',1),ae={id:"collapseTwo",class:"!visible hidden mb-4 mt-2","data-te-collapse-item":"","aria-labelledby":"headingTwo","data-te-parent":"#accordionExample"},ce=["innerHTML"],de={class:"mb-6"},ue=e("h3",{class:"font-noto-serif font-medium text-xl relative inline-block after:-z-[1] after:-left-1 after:-right-1 mb-4 after:bg-warning after:absolute after:top-1/2 after:bottom-0"},"購買數量",-1),pe={class:"flex items-center mb-2"},me=["disabled"],fe=e("span",{class:"hidden pl-2 text-sm text-gray-400 sm:inline-block"}," 個",-1),ge=e("span",{class:"pl-1 text-2xl align-bottom text-brown-300 material-symbols-outlined"},"add",-1),be=[ge],he={class:"flex min-[460px]:items-center max-[460px]:flex-col justify-between lg:items-start"},_e={class:"text-sm lg:mb-0 lg:self-end max-[460px]:mb-3"},xe={class:"mx-1 text-lg font-bold tracking-wider font-noto-serif"},ve={class:"flex gap-4"},we={class:"px-5 py-3 mb-4 border-2 border-gray-300 border-dotted rounded-lg"},ye=e("p",{class:"mb-2"},"消費滿 NT $1,500，享有免運費優惠",-1),ke={class:"flex flex-col justify-between sm:flex-row"},Ce=e("p",{class:"text-sm text-black-light"},[d("[付款] 信用卡(一次付清)、貨到付款、ATM 轉帳"),e("br"),d("[運送] 黑貓低溫宅配、工作室自取")],-1),De=e("span",{class:"hidden mr-1 text-xl align-middle rotate-45 xl:inline-block material-symbols-outlined text-info"}," link ",-1),Ne=e("p",{class:"inline-block font-bold leading-[22px] border-b border-info text-info"},"常見問題",-1),Le={class:"container mb-[72px]"},Pe=e("h3",{class:"mb-12 text-4xl font-medium tracking-widest text-center font-maru text-brown-500"},"更多商品⋯",-1),Te={class:"w-full px-3 productCard"},ze={class:"relative flex flex-col h-full overflow-hidden border rounded-xl"},Se={class:"relative overflow-hidden card-img aspect-square"},Ie=["src","alt"],Ve=["onClick"],je={key:0,class:"text-3xl text-red-400 material-symbols-outlined",style:{"font-variation-settings":`'FILL' 1,\r
                      'opsz' 24`}},Be={key:1,class:"text-3xl text-red-400 material-symbols-outlined"},Me=e("div",{class:"absolute -translate-y-1/4 -translate-x-1/2 z-[5] left-1/2 top-1/2 view-detail hidden"},[e("p",{href:"#",class:"flex items-center py-2 pl-8 pr-6 text-sm font-medium leading-normal tracking-wider text-white uppercase whitespace-nowrap z-5"},[d("查看商品資訊"),e("span",{class:"ml-1 material-symbols-outlined"}," keyboard_double_arrow_right ")])],-1),Fe={class:"p-5 min-h-[150px] flex flex-col justify-between grow"},Ue={class:"mb-1 text-lg font-medium text-black lg:text-xl"},Ae={class:"flex flex-wrap -ml-1 text-sm text-gray-400 gap-x-1"},qe=["onClick"],Oe=["onClick"],Ee={class:"flex flex-col sm:justify-between sm:items-center sm:flex-row"},He={class:"flex flex-col"},Ze={key:0,class:"px-2 ml-2 text-xs text-white rounded-full font-montserrat op bg-success"},Re=["onClick"];function Ge(o,i,f,Je,t,u){const L=h("LoadingAnimation"),b=h("RouterLink"),P=h("swiper-slide"),T=h("swiper");return l(),r(_,null,[p(L,{active:t.state.isLoading},null,8,["active"]),e("div",E,[e("div",H,[e("div",Z,[p(b,{to:"/shop",class:"inline-block mb-4"},{default:g(()=>[R]),_:1}),e("img",{src:t.currentImages,alt:t.productDetails.title,class:"object-cover w-full mb-4 rounded-lg aspect-square",style:k({opacity:t.currentImageOpacity,transition:"opacity 0.15s"})},null,12,G),e("div",J,[e("a",K,[e("img",{src:t.productDetails.imageUrl,alt:t.productDetails.title+1,class:m(["w-[100px] object-cover aspect-square rounded-lg",{"opacity-50":t.currentImages===t.productDetails.imageUrl}]),onClick:i[0]||(i[0]=a(s=>u.changeCurrentImage(t.productDetails.imageUrl),["prevent"]))},null,10,Q)]),(l(!0),r(_,null,w(t.productDetails.imagesUrl,(s,n)=>(l(),r("a",{href:"#",key:s},[e("img",{src:s,alt:t.productDetails.title+(n+2),class:m(["w-[100px] object-cover aspect-square rounded-lg",{"opacity-50":t.currentImages===s}]),onClick:a(z=>u.changeCurrentImage(s),["prevent"])},null,10,W)]))),128))])]),e("div",X,[e("div",Y,[e("div",$,[e("h2",ee,c(t.productDetails.title),1)]),e("button",{class:m(["border-2 rounded-full w-[40px] h-[40px] ml-auto inline-block border-brown-100",o.favorite.some(s=>s.id===t.productDetails.id)?"border-danger":"border-brown-100"]),title:"加入收藏",onClick:i[1]||(i[1]=a(s=>o.toggleFavorite(t.productDetails),["prevent"]))},[o.favorite.some(s=>s.id===t.productDetails.id)?(l(),r("span",te," favorite ")):(l(),r("span",se," favorite "))],2)]),e("p",oe,[e("span",{class:m({"line-through mr-2 text-gray-400":t.productDetails.origin_price!==t.productDetails.price})},"NT "+c(t.productDetails.origin_price)+" 元",3),t.productDetails.origin_price!==t.productDetails.price?(l(),r("span",ie,"NT "+c(t.productDetails.price)+" 元",1)):y("",!0),d(" / "+c(t.productDetails.unit)+" ",1),t.productDetails.origin_price!==t.productDetails.price?(l(),r("span",le,"SALE")):y("",!0)]),e("div",{class:"mb-4",innerHTML:t.productDetails.description},null,8,re),e("div",null,[ne,e("div",ae,[e("div",{innerHTML:t.productDetails.content,class:"ingredients-list !visible",id:"collapseOne","data-te-collapse-item":"","data-te-collapse-show":""},null,8,ce)])]),e("div",de,[ue,e("div",pe,[e("button",{class:"pr-1",onClick:i[2]||(i[2]=a(s=>u.updateBuyNum(-1),["prevent"])),disabled:t.buyNum===1},[e("span",{class:"text-2xl align-bottom text-brown-300 material-symbols-outlined",style:k({color:t.buyNum===1?"#d1d5db":""})},"remove",4)],8,me),F(e("input",{type:"number",min:"1",class:"outline-none focus:outline-none max-w-[60px] bg-transparent border text-center pt-[1px] pb-[2px]","onUpdate:modelValue":i[3]||(i[3]=s=>t.buyNum=s),onChange:i[4]||(i[4]=s=>u.updateBuyNum(t.buyNum))},null,544),[[U,t.buyNum]]),fe,e("button",{onClick:i[5]||(i[5]=a(s=>u.updateBuyNum(1),["prevent"]))},be)]),e("div",he,[e("p",_e,[d("總計 "),e("span",xe,c(t.cachePrice),1),d(" 元 ")]),e("div",ve,[p(b,{to:"/checkout/cart",type:"button",class:"z-10 flex items-center px-8 py-2 text-sm font-medium leading-normal tracking-wider uppercase transition duration-150 ease-in-out border rounded-full border-brown-300 focus:outline-none focus:ring-1 hover:opacity-80 text-brown-300"},{default:g(()=>[d("前往結帳")]),_:1}),e("button",{type:"button",class:"z-10 flex items-center px-8 py-2 text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full bg-brown-300 focus:outline-none focus:ring-0 hover:opacity-80",onClick:i[6]||(i[6]=a(s=>o.addToCart(t.productDetails,t.buyNum),["prevent"]))},"加入購物車 ")])])]),e("div",we,[ye,e("div",ke,[Ce,p(b,{to:"/faq",target:"_blank",class:"self-end text-sm"},{default:g(()=>[De,Ne]),_:1})])])])])]),e("div",Le,[Pe,p(T,{navigation:!0,slidesPerView:4,loop:!0,modules:t.modules,breakpoints:{375:{slidesPerView:1},640:{slidesPerView:2},1279:{slidesPerView:3},1550:{slidesPerView:4},1920:{slidesPerView:4}},class:"relative lg:px-20 mySwiper after:lg:absolute after:lg:bg-neutral-50 after:lg:top-0 after:lg:-ml-20 after:lg:z-[10] after:lg:bottom-0 after:lg:w-20 before:lg:absolute before:lg:bg-neutral-50 before:lg:top-0 before:lg:right-0 before:lg:z-[10] before:lg:bottom-0 before:lg:w-20"},{default:g(()=>[(l(!0),r(_,null,w(u.moreProduct,s=>(l(),q(P,{key:s.id},{default:g(()=>[e("div",Te,[e("div",ze,[e("div",Se,[e("img",{class:"relative w-full h-full",src:s.imageUrl,alt:s.title},null,8,Ie),e("button",{class:"absolute top-0 right-0 z-10 p-4",onClick:a(n=>o.toggleFavorite(s),["prevent"])},[o.favorite.some(n=>n.id===s.id)?(l(),r("span",je," favorite ")):(l(),r("span",Be," favorite "))],8,Ve),Me]),e("div",Fe,[e("div",null,[e("h3",Ue,c(s.title),1),e("div",Ae,[e("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:a(n=>o.changeSort(s.category),["prevent"])},"# "+c(s.category),9,qe),(l(!0),r(_,null,w(s.tag,n=>(l(),r("span",{class:"z-10 py-[1px] px-1 hover:bg-brown-100 hover:text-white",onClick:a(z=>o.tagSearch(n),["prevent"]),key:n},"# "+c(n),9,Oe))),128))])]),e("div",Ee,[e("div",He,[e("div",null,[e("span",{class:m(["font-medium md::text-xl text-black-light",{"text-success":s.price!==s.origin_price}])},"NT "+c(o.$filters.currency(s.price)),3),s.price!==s.origin_price?(l(),r("span",Ze,"SALE")):y("",!0)]),e("span",{class:m(["text-xs text-gray-500 line-through",{hidden:s.price===s.origin_price}])}," NT "+c(o.$filters.currency(s.origin_price)),3)]),e("button",{type:"button",class:"z-10 flex items-center self-end px-6 py-2 text-sm font-medium leading-normal tracking-wider text-white uppercase transition duration-150 ease-in-out rounded-full w-fit btn-add-cart bg-brown-300 focus:outline-none focus:ring-0 active:bg-cerulean-700 hover:opacity-80",onClick:a(n=>o.addToCart(s,1),["prevent"])}," 加入購物車 ",8,Re)])]),p(b,{to:"/product/"+s.id,class:"after:z-[9] after:top-0 after:left-0 after:right-0 after:absolute after:inset-0"},null,8,["to"])])])]),_:2},1024))),128))]),_:1},8,["modules"])])],64)}const $e=M(O,[["render",Ge]]);export{$e as default};
